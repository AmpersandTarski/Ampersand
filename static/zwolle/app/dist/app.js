angular.module("AmpersandApp",["ngResource","ngRoute","ngSanitize","restangular","ui.bootstrap","uiSwitch","cgBusy","siTable","ng-code-mirror","ngStorage","angularFileUpload","ui.bootstrap.datetimepicker","hc.marked"]).config(["$routeProvider",function(e){e.when("/",{controller:"",templateUrl:"app/src/shared/home.html",interfaceLabel:"Home"}).when("/admin/installer",{controller:"InstallerController",templateUrl:"app/src/admin/installer.html",interfaceLabel:"Installer"}).when("/404",{templateUrl:"app/src/shared/404.html",interfaceLabel:"404"}).otherwise({redirectTo:"/404"})}]).config(["RestangularProvider",function(e){e.setBaseUrl("api/v1"),e.setDefaultHeaders({"Content-Type":"application/json"})}]).run(["Restangular","$rootScope","$location","$route","NotificationService","RoleService","NavigationBarService",function(e,t,n,o,r,a,i){e.addFullRequestInterceptor(function(e,t,n,o,r,a){return a}),e.addResponseInterceptor(function(e,t,o,r,a,s){return"get"!=t&&"getList"!=t&&e.sessionRefreshAdvice&&i.refreshNavBar(),null!=e.navTo&&n.url(e.navTo),e}),e.setErrorInterceptor(function(e,t,o){var i,s;return 401==e.status&&(a.deactivateAllRoles(),n.path("")),"object"==typeof e.data?(404==e.data.error?r.addInfo(e.data.msg||"Resource not found"):(i=e.data.msg||e.statusText,r.addError(i,e.status,!0,e.data.html)),void 0!==e.data.notifications&&r.updateNotifications(e.data.notifications)):(i=e.status+" "+e.statusText,s=e.data,r.addError(i,e.status,!0,s)),!0}),t.getCurrentDateTime=function(){return new Date};var s=n.url;n.url=function(e,r){if(!1===r)var a=o.current,i=t.$on("$locationChangeSuccess",function(){o.current=a,i()});return s.apply(n,[e])}}]).value("cgBusyDefaults",{message:"Loading...",backdrop:!0,minDuration:500}).directive("myShowonhoverBox",function(){return{link:function(e,t,n){t.closest(".box").hasClass("my-showonhover-box-show")||t.hide(),t.closest(".box").bind("mouseenter",function(){t.closest(".box").addClass("my-showonhover-box-show"),t.show()}),t.closest(".box").bind("mouseleave",function(){t.closest(".box").removeClass("my-showonhover-box-show"),t.hide()})}}}).directive("myBluronenter",function(){return function(e,t,n){t.bind("keydown keypress",function(e){13===e.which&&(e.target.blur(),e.preventDefault())})}}).filter("toArray",function(){return function(e,t){return e?Array.isArray(e)?e:!1===t?Object.keys(e).map(function(t){return e[t]}):Object.keys(e).map(function(t){return Object.defineProperty(e[t],"$key",{enumerable:!1,value:t})}):e}}).directive("myNavToInterfaces",function(){return{restrict:"E",scope:{resource:"=",target:"@"},templateUrl:"app/src/shared/partials/myNavToInterfaces.html",transclude:!0}}).directive("myNavToOtherInterfaces",function(){return{restrict:"E",scope:{resource:"=",target:"@"},templateUrl:"app/src/shared/partials/myNavToOtherInterfaces.html"}}).filter("unsafe",["$sce",function(e){return e.trustAsHtml}]),angular.module("AmpersandApp").controller("ExecEngineController",["$scope","Restangular","NotificationService",function(e,t,n){e.run=function(){t.one("admin/execengine/run").get().then(function(e){e=e.plain(),n.updateNotifications(e)})}}]),angular.module("AmpersandApp").controller("InstallerController",["$scope","Restangular","NotificationService","RoleService",function(e,t,n,o){e.installing=!1,e.installed=!1,e.install=function(r){e.installing=!0,e.installed=!1,t.one("admin/installer").get({defaultPop:r}).then(function(t){t=t.plain(),n.updateNotifications(t),o.deactivateAllRoles(),e.installing=!1,e.installed=!0},function(){e.installing=!1,e.installed=!1})}}]),angular.module("AmpersandApp").controller("AtomicController",["$scope","ResourceService",function(e,t){e.selected={},e.saveItem=t.saveItem,e.addItem=t.addItem,e.removeItem=t.removeItem,e.remove=t.removeResource,e.delete=t.deleteResource}]),angular.module("AmpersandApp").controller("AtomicDateController",["$scope","ResourceService",function(e,t){function n(e){var t=String(e);return 1===t.length&&(t="0"+t),t}function o(e){null!==e&&(e.toJSON=function(){return this.getUTCFullYear()+"-"+n(this.getMonth()+1)+"-"+n(this.getDate())})}e.isOpen=!1,e.openDatepicker=function(t){t.preventDefault(),t.stopPropagation(),e.isOpen=!0},e.selected={value:""},e.saveDateItem=function(e,n,r){o(e[n]),t.saveItem(e,n,r)},e.addDateItem=function(e,n,r,a){""!==r.value?(o(r.value),t.addItem(e,n,r,a)):console.log("Empty date selected")}}]),angular.module("AmpersandApp").controller("AtomicTypeAheadController",["$scope","Restangular","ResourceService",function(e,t,n){e.selected={},e.hasNoResults=!1,e.getTypeahead=function(n,o){o=void 0!==o&&o,(void 0===e.typeahead[n]||o)&&(e.typeahead[n]=t.all("resource/"+n).getList().$object)},e.typeaheadOnSelect=function(t,o,r,a,i,s){void 0===t._id_?console.log("Resource id undefined"):""===t._id_?console.log("Empty resource id provided"):(Array.isArray(a[i])?(a[i].push(angular.copy(t)),patch=n.createPatch("add",a,s,i,t._id_),n.addPatches(s,[patch])):null===a[i]?(a[i]=angular.copy(t),patch=n.createPatch("replace",a,s,i,t._id_),n.addPatches(s,[patch])):console.log("Error: Property already set and/or not defined"),e.hasNoResults=!1),e.selected.value=""},e.typeAheadCreate=function(t,o,r,a,i){Array.isArray(t[o])?n.addItem(t,o,r,a).then(function(){e.getTypeahead(i,!0)}):null===t[o]?(t[o]=r.value,n.saveItem(t,o,a)):console.log("Error: Property already set and/or not defined")}}]),angular.module("AmpersandApp").controller("AtomicUploadFileController",["$scope","FileUploader","NotificationService",function(e,t,n){e.FileUploader=new t({alias:"file",formData:[],removeAfterUpload:!0,autoUpload:!0}),e.FileUploader.onSuccessItem=function(e,t,o,r){n.updateNotifications(t.notifications),e.resource[e.ifc].push(t.content)},e.FileUploader.onErrorItem=function(e,t,o,r){n.addError(t.error.message,t.error.code,!0)}}]),angular.module("AmpersandApp").controller("BoxController",["$scope","ResourceService",function(e,t){e.createResource=t.createResource,e.save=t.saveResource,e.cancel=t.cancelResource,e.remove=t.removeResource,e.delete=t.deleteResource}]),angular.module("AmpersandApp").controller("InterfaceController",["$scope","$location","ResourceService",function(e,t,n){e.typeahead={},e.$on("$locationChangeStart",function(e,t,o){n.checkRequired()&&(confirmed=confirm("You have unsaved edits. Do you wish to leave?"),e&&!confirmed?e.preventDefault():e&&confirmed?n.emptyUpdatedResources():console.log("Someting went wrong. Cannot determine action after locationChangeStart"))}),e.newResource=function(){t.url("/"+ifcName+"?new")},e.pendingPromises=n.pendingPromises}]),angular.module("AmpersandApp").service("ResourceService",["$localStorage","$timeout","$location","Restangular","NotificationService",function(e,t,n,o,r){let a=[],i={getResource:function(e,t,n){return promise=o.one(e._path_+"/"+t).get().then(function(n){try{n=n.plain()}catch(e){}return $.isEmptyObject(n)?r.addInfo("No results found"):null===e[t]||Array.isArray(e[t])?e[t]=n:angular.extend(e[t],n),i.initResourceMetaData(e),e}),Array.isArray(n._loading_)||(n._loading_=[]),n._loading_.push(promise),promise},saveResource:function(e){return promise=o.one(e._path_).patch(e._patchesCache_,{}).then(function(t){return t=t.plain(),e._isRoot_?e.get():e=angular.extend(e,t.content),i.processResponse(e,t),e}),Array.isArray(e._loading_)||(e._loading_=[]),e._loading_.push(promise),promise},cancelResource:function(e){return promise=o.one(e._path_).get().then(function(t){return t=t.plain(),$.isEmptyObject(t)?r.addInfo("No results found"):angular.extend(e,t),r.getNotifications(),i.initResourceMetaData(e),e}),Array.isArray(e._loading_)||(e._loading_=[]),e._loading_.push(promise),promise},createResource:function(e,t,r,a){return"undefined"===a&&(a=!1),promise=o.one(e._path_).all(t).post({},{}).then(function(o){return o=o.plain(),i.processResponse(r,o),newResource=o.content,Array.isArray(e[t])?a?e[t].unshift(newResource):e[t].push(newResource):e[t]=newResource,e._isRoot_&&"_NEW"==e._id_&&n.url("/"+t+"/"+newResource._id_,!1),newResource}),Array.isArray(r._loading_)||(r._loading_=[]),r._loading_.push(promise),promise},removeResource:function(e,t,n,o){return Array.isArray(e[t])?e[t].splice(e[t].indexOf(n),1):e[t]=null,patch=i.createPatch("remove",n,o),i.addPatches(o,[patch])},deleteResource:function(e,t,n){if(confirm("Are you sure?"))return promise=o.one(n._path_).remove({}).then(function(o){return o=o.plain(),r.updateNotifications(o.notifications),Array.isArray(e[t])?e[t].splice(e[t].indexOf(n),1):e[t]=null,e}),Array.isArray(n._loading_)||(n._loading_=[]),n._loading_.push(promise),promise},saveItem:function(e,t,n){return void 0===e[t]||""===e[t]?value=null:value=e[t],patch=i.createPatch("replace",e,n,t,value),i.addPatches(n,[patch])},addItem:function(e,t,n,o){return void 0===n.value?$q.reject("Value undefined"):""===n.value?$q.reject("Empty value selected"):Array.isArray(e[t])?(e[t].push(n.value),patch=i.createPatch("add",e,o,t,n.value),i.addPatches(o,[patch]).then(function(e){return delete n.value,e})):$q.reject("Error: trying to add item to non-array")},removeItem:function(e,t,n,o){return value=e[t][n],patch=i.createPatch("remove",e,o,t,value),e[t].splice(n,1),i.addPatches(o,[patch])},createPatch:function(e,t,n,o,r){return void 0===n&&(n=t),pathLength=n._path_.length,path=t._path_.substring(pathLength),void 0!==o&&(path=path+"/"+o),void 0===r?{op:e,path:path}:{op:e,path:path,value:r}},addPatches:function(t,n){return Array.isArray(t._patchesCache_)||(t._patchesCache_=[]),t._patchesCache_=t._patchesCache_.concat(n),-1===a.indexOf(t)&&a.push(t),e.switchAutoSave?i.saveResource(t):(i.setResourceStatus(t,"warning"),t._showButtons_={save:!0,cancel:!0},$q.resolve(t))},checkRequired:function(){a.reduce(function(e,t,n,o){return e||t._patchesCache_.length},!1)},emptyUpdatedResources:function(){a=[]},initResourceMetaData:function(e){e._showButtons_={save:!1,cancel:!1},e._patchesCache_=[],i.setResourceStatus(e,"default")},processResponse:function(e,n){return r.updateNotifications(n.notifications),n.invariantRulesHold?(e._showButtons_={save:!1,cancel:!1},e._patchesCache_=[],i.setResourceStatus(e,"success"),t(function(){i.setResourceStatus(e,"default")},3e3)):(e._showButtons_={save:!1,cancel:!0},i.setResourceStatus(e,"danger")),e},setResourceStatus:function(e,t){return e._status_={warning:!1,danger:!1,default:!1,success:!1},e._status_[t]=!0,e},pendingPromises:function(e){return!!Array.isArray(e._loading_)&&e._loading_.some(function(e){return 0===e.$$state.status})}};return i}]);var app=angular.module("AmpersandApp");app.requires[app.requires.length]="angularFileUpload",app.config(["$routeProvider",function(e){e.when("/ext/importer",{controller:"PopulationImportController",templateUrl:"app/src/importer/importer.html",interfaceLabel:"Population importer"})}]).service("ImportService",["FileUploader","NotificationService",function(e,t){let n=new e({url:"api/v1/admin/import"});return n.onSuccessItem=function(e,n,o,r){t.updateNotifications(n.notifications)},n.onErrorItem=function(e,n,o,r){let a,i;"object"==typeof n?(a=n.msg||"Error while importing",t.addError(a,o,!0),void 0!==n.notifications&&t.updateNotifications(n.notifications)):(a=o+" Error while importing",i=n,t.addError(a,o,!0,i))},{uploader:n}}]).controller("PopulationImportController",["$scope","ImportService",function(e,t){e.uploader=t.uploader}]),angular.module("AmpersandApp").controller("NavigationBarController",["$scope","$route","Restangular","$localStorage","$sessionStorage","$timeout","$location","NotificationService","RoleService","NavigationBarService",function(e,t,n,o,r,a,i,s,c,u){e.$storage=o,e.$sessionStorage=r,e.defaultSettings=u.defaultSettings,e.loadingNavBar=[],e.navbar=u.navbar,e.reload=function(){e.loadingNavBar=[],e.loadingNavBar.push(u.refreshNavBar()),t.reload()},e.checkAllRules=s.checkAllRules,e.createNewResource=function(e,t){n.one("resource").all(e).post({},{}).then(function(e){i.url(t+"/"+e._id_)})},e.resetSettings=function(){angular.forEach(e.$storage.notificationPrefs,function(e,t,n){n[t]=!1}),e.$storage.switchAutoSave=!1,a(function(){e.resetNotificationSettings(),e.resetSwitchAutoSave()},500)},e.resetNotificationSettings=function(){e.$storage.notificationPrefs=angular.extend(e.$storage.notificationPrefs,e.defaultSettings.notifications)},e.resetSwitchAutoSave=function(){e.$storage.switchAutoSave=e.defaultSettings.switchAutoSave},e.loadingNavBar.push(u.refreshNavBar())}]).directive("myNavbarResize",["$window","$timeout","NavigationBarService",function(e,t,n){return function(n,o){var r=angular.element(e),a=function(){t(function(){for(;$("#navbar-interfaces").width()<$("#navbar-wrapper").width()-$("#navbar-options").width()&&$("#navbar-interfaces-dropdown-menu").children().length>0;)$("#navbar-interfaces-dropdown-menu").children().first().appendTo("#navbar-interfaces");for(;$("#navbar-interfaces").width()>$("#navbar-wrapper").width()-$("#navbar-options").width();)$("#navbar-interfaces").children().last().prependTo("#navbar-interfaces-dropdown-menu"),$("#navbar-interfaces-dropdown").toggleClass("hidden",$("#navbar-interfaces-dropdown-menu").children().length<=0);$("#navbar-interfaces-dropdown").toggleClass("hidden",$("#navbar-interfaces-dropdown-menu").children().length<=0)})};n.$watch("NavigationBarService.navbar",function(){a()}),r.bind("resize",function(){a()}),a()}}]),angular.module("AmpersandApp").service("NavigationBarService",["Restangular","$localStorage","$sessionStorage","NotificationService",function(e,t,n,o){let r={},a={};return{navbar:r,defaultSettings:a,refreshNavBar:function(){return e.one("app/navbar").get().then(function(e){e=e.plain(),angular.extend(r,e),n.session=e.session,n.sessionRoles=e.sessionRoles,n.sessionVars=e.sessionVars,angular.extend(a,e.defaultSettings),void 0===t.notificationPrefs&&$scope.resetNotificationSettings(),void 0===t.switchAutoSave&&$scope.resetSwitchAutoSave(),o.updateNotifications(e.notifications)},function(e){})}}}]),angular.module("AmpersandApp").service("RoleService",["$sessionStorage","Restangular",function(e,t){return RoleService={selectRole:function(e){RoleService.toggleRole(e,!0)},selectRoleByLabel:function(t){angular.forEach(e.sessionRoles,function(e){if(e.label==t)return RoleService.selectRole(e.id)})},toggleRole:function(t,n){angular.forEach(e.sessionRoles,function(e){e.id==t&&(e.active=void 0===n?!e.active:n)})},getActiveRoleIds:function(){var t=[];return angular.forEach(e.sessionRoles,function(e){!0===e.active&&t.push(e.id)}),t},deactivateAllRoles:function(){angular.forEach(e.sessionRoles,function(e){e.active=!1})},setActiveRoles:function(){return t.all("app/roles").patch(e.sessionRoles)}},RoleService}]),angular.module("AmpersandApp").controller("RoleMenuController",["$scope","RoleService","NavigationBarService",function(e,t,n){e.toggleRole=function(e,o){t.toggleRole(e,o),n.promises.push(t.setActiveRoles().then(function(e){n.refreshNavBar()}))}}]),angular.module("AmpersandApp").service("NotificationService",["$localStorage","$sessionStorage","$timeout","Restangular",function(e,t,n,o){let r={signals:[],invariants:[],infos:[],successes:[],warnings:[],errors:[]},a={notifications:r,getNotifications:function(){return o.one("app/notifications").get().then(function(e){e=e.plain(),a.updateNotifications(e)},function(){a.addError("Something went wrong while getting notifications")})},checkAllRules:function(){return o.one("admin/ruleengine/evaluate/all").get().then(function(e){e=e.plain(),a.addSuccess("Evaluated all rules."),a.updateNotifications(e)},function(){a.addError("Something went wrong while evaluating all rules")})},updateNotifications:function(t){void 0!==t&&(r.signals=t.signals,r.invariants=t.invariants,r.infos=r.infos.concat(t.infos),r.successes=r.successes.concat(t.successes),r.warnings=r.warnings.concat(t.warnings),r.errors=r.errors.concat(t.errors),e.notificationPrefs.switchAutoHideSuccesses&&n(function(){r.successes=[]},3e3))},addSuccess:function(e){r.successes.push({message:e,count:1})},addError:function(e,t,n,o){t=void 0!==typeof t?t:null,n=void 0!==typeof n&&n,o=void 0!==typeof o&&o;let a=!1,i=r.errors;for(let r=0;r<i.length;r++)i[r].message==e&&(i[r].count+=1,i[r].code=t,i[r].persistent=n,i[r].details=o,a=!0);a||r.errors.push({message:e,code:t,count:1,persistent:n,details:o})},addWarning:function(e){let t=!1,n=r.warnings;for(var o=0;o<n.length;o++)n[o].message==e&&(n[o].count+=1,t=!0);t||r.warnings.push({message:e,count:1})},addInfo:function(e){let t=!1,n=r.infos;for(var o=0;o<n.length;o++)n[o].message==e&&(n[o].count+=1,t=!0);t||r.infos.push({message:e,count:1})}};return a}]),angular.module("AmpersandApp").controller("NotificationCenterController",["$scope","$route","Restangular","$localStorage","NotificationService",function(e,t,n,o,r){e.localStorage=o,e.notifications=r.notifications,e.$on("$routeChangeSuccess",function(){e.notifications.successes=[],e.notifications.errors=e.notifications.errors.filter(function(e){return!!e.persistent&&(e.persistent=!1,!0)}),e.notifications.warnings=[],e.notifications.infos=[],e.notifications.invariants=[]}),e.closeAlert=function(e,t){e.splice(t,1)}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkbWluL2V4ZWNlbmdpbmUuY29udHJvbGxlci5qcyIsImFkbWluL2luc3RhbGxlci5jb250cm9sbGVyLmpzIiwiaW50ZXJmYWNpbmcvYXRvbWljLmNvbnRyb2xsZXIuanMiLCJpbnRlcmZhY2luZy9hdG9taWNEYXRlLmNvbnRyb2xsZXIuanMiLCJpbnRlcmZhY2luZy9hdG9taWNUeXBlQWhlYWQuY29udHJvbGxlci5qcyIsImludGVyZmFjaW5nL2F0b21pY1VwbG9hZEZpbGUuY29udHJvbGxlci5qcyIsImludGVyZmFjaW5nL2JveC5jb250cm9sbGVyLmpzIiwiaW50ZXJmYWNpbmcvaW50ZXJmYWNlLmNvbnRyb2xsZXIuanMiLCJpbnRlcmZhY2luZy9yZXNvdXJjZS5zZXJ2aWNlLmpzIiwiaW1wb3J0ZXIvaW1wb3J0ZXIubW9kdWxlLmpzIiwibmF2YmFyL25hdmlnYXRpb25CYXIuY29udHJvbGxlci5qcyIsIm5hdmJhci9uYXZpZ2F0aW9uQmFyLnNlcnZpY2UuanMiLCJuYXZiYXIvcm9sZS5zZXJ2aWNlLmpzIiwibmF2YmFyL3JvbGVNZW51LmNvbnRyb2xsZXIuanMiLCJub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbi5zZXJ2aWNlLmpzIiwibm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25DZW50ZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiY29udHJvbGxlciIsInRlbXBsYXRlVXJsIiwiaW50ZXJmYWNlTGFiZWwiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiUmVzdGFuZ3VsYXJQcm92aWRlciIsInNldEJhc2VVcmwiLCJzZXREZWZhdWx0SGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInJ1biIsIlJlc3Rhbmd1bGFyIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRyb3V0ZSIsIk5vdGlmaWNhdGlvblNlcnZpY2UiLCJSb2xlU2VydmljZSIsIk5hdmlnYXRpb25CYXJTZXJ2aWNlIiwiYWRkRnVsbFJlcXVlc3RJbnRlcmNlcHRvciIsImVsZW1lbnQiLCJvcGVyYXRpb24iLCJ3aGF0IiwidXJsIiwiaGVhZGVycyIsInBhcmFtcyIsImFkZFJlc3BvbnNlSW50ZXJjZXB0b3IiLCJkYXRhIiwicmVzcG9uc2UiLCJkZWZlcnJlZCIsInNlc3Npb25SZWZyZXNoQWR2aWNlIiwicmVmcmVzaE5hdkJhciIsIm5hdlRvIiwic2V0RXJyb3JJbnRlcmNlcHRvciIsInJlc3BvbnNlSGFuZGxlciIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwic3RhdHVzIiwiZGVhY3RpdmF0ZUFsbFJvbGVzIiwicGF0aCIsImVycm9yIiwiYWRkSW5mbyIsIm1zZyIsInN0YXR1c1RleHQiLCJhZGRFcnJvciIsImh0bWwiLCJ1bmRlZmluZWQiLCJub3RpZmljYXRpb25zIiwidXBkYXRlTm90aWZpY2F0aW9ucyIsImdldEN1cnJlbnREYXRlVGltZSIsIkRhdGUiLCJvcmlnaW5hbCIsInJlbG9hZCIsImxhc3RSb3V0ZSIsImN1cnJlbnQiLCJ1biIsIiRvbiIsImFwcGx5IiwidmFsdWUiLCJiYWNrZHJvcCIsIm1pbkR1cmF0aW9uIiwiZGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiYXR0cnMiLCJjbG9zZXN0IiwiaGFzQ2xhc3MiLCJoaWRlIiwiYmluZCIsImFkZENsYXNzIiwic2hvdyIsInJlbW92ZUNsYXNzIiwiZXZlbnQiLCJ3aGljaCIsInRhcmdldCIsImJsdXIiLCJwcmV2ZW50RGVmYXVsdCIsImZpbHRlciIsIm9iaiIsImFkZEtleSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJrZXkiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJyZXN0cmljdCIsInJlc291cmNlIiwidHJhbnNjbHVkZSIsIiRzY2UiLCJ0cnVzdEFzSHRtbCIsIiRzY29wZSIsIm9uZSIsImdldCIsInRoZW4iLCJwbGFpbiIsImluc3RhbGxpbmciLCJpbnN0YWxsZWQiLCJpbnN0YWxsIiwiZGVmUG9wIiwiZGVmYXVsdFBvcCIsIlJlc291cmNlU2VydmljZSIsInNlbGVjdGVkIiwic2F2ZUl0ZW0iLCJhZGRJdGVtIiwicmVtb3ZlSXRlbSIsInJlbW92ZSIsInJlbW92ZVJlc291cmNlIiwiZGVsZXRlIiwiZGVsZXRlUmVzb3VyY2UiLCJwYWQiLCJudW1iZXIiLCJyIiwiU3RyaW5nIiwibGVuZ3RoIiwibW9kaWZ5VG9KU09OIiwidG9KU09OIiwidGhpcyIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiaXNPcGVuIiwib3BlbkRhdGVwaWNrZXIiLCIkZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJzYXZlRGF0ZUl0ZW0iLCJwcm9wZXJ0eSIsInBhdGNoUmVzb3VyY2UiLCJhZGREYXRlSXRlbSIsImNvbnNvbGUiLCJsb2ciLCJoYXNOb1Jlc3VsdHMiLCJnZXRUeXBlYWhlYWQiLCJyZXNvdXJjZVR5cGUiLCJmb3JjZUdldENhbGwiLCJ0eXBlYWhlYWQiLCJhbGwiLCJnZXRMaXN0IiwiJG9iamVjdCIsInR5cGVhaGVhZE9uU2VsZWN0IiwiJGl0ZW0iLCIkbW9kZWwiLCIkbGFiZWwiLCJpZmMiLCJfaWRfIiwicHVzaCIsImNvcHkiLCJwYXRjaCIsImNyZWF0ZVBhdGNoIiwiYWRkUGF0Y2hlcyIsInR5cGVBaGVhZENyZWF0ZSIsIkZpbGVVcGxvYWRlciIsImFsaWFzIiwiZm9ybURhdGEiLCJyZW1vdmVBZnRlclVwbG9hZCIsImF1dG9VcGxvYWQiLCJvblN1Y2Nlc3NJdGVtIiwiZmlsZUl0ZW0iLCJjb250ZW50Iiwib25FcnJvckl0ZW0iLCJpdGVtIiwiY29kZSIsImNyZWF0ZVJlc291cmNlIiwic2F2ZSIsInNhdmVSZXNvdXJjZSIsImNhbmNlbCIsImNhbmNlbFJlc291cmNlIiwibmV4dCIsImNoZWNrUmVxdWlyZWQiLCJjb25maXJtZWQiLCJjb25maXJtIiwiZW1wdHlVcGRhdGVkUmVzb3VyY2VzIiwibmV3UmVzb3VyY2UiLCJpZmNOYW1lIiwicGVuZGluZ1Byb21pc2VzIiwic2VydmljZSIsIiRsb2NhbFN0b3JhZ2UiLCIkdGltZW91dCIsInVwZGF0ZWRSZXNvdXJjZXMiLCJnZXRSZXNvdXJjZSIsImNhbGxpbmdPYmoiLCJwcm9taXNlIiwiX3BhdGhfIiwiJCIsImlzRW1wdHlPYmplY3QiLCJleHRlbmQiLCJpbml0UmVzb3VyY2VNZXRhRGF0YSIsIl9sb2FkaW5nXyIsIl9wYXRjaGVzQ2FjaGVfIiwiX2lzUm9vdF8iLCJwcm9jZXNzUmVzcG9uc2UiLCJnZXROb3RpZmljYXRpb25zIiwicHJlcGVuZCIsInBvc3QiLCJ1bnNoaWZ0IiwicGFyZW50Iiwic3BsaWNlIiwiaW5kZXhPZiIsIiRxIiwicmVqZWN0IiwiaW5kZXgiLCJwYXRoTGVuZ3RoIiwic3Vic3RyaW5nIiwib3AiLCJwYXRjaGVzIiwiY29uY2F0Iiwic3dpdGNoQXV0b1NhdmUiLCJzZXRSZXNvdXJjZVN0YXR1cyIsIl9zaG93QnV0dG9uc18iLCJyZXNvbHZlIiwicmVkdWNlIiwicHJldiIsImFyciIsImludmFyaWFudFJ1bGVzSG9sZCIsIl9zdGF0dXNfIiwid2FybmluZyIsImRhbmdlciIsImRlZmF1bHQiLCJzdWNjZXNzIiwic29tZSIsInZhbCIsIiQkc3RhdGUiLCJhcHAiLCJyZXF1aXJlcyIsInVwbG9hZGVyIiwiSW1wb3J0U2VydmljZSIsIiRzZXNzaW9uU3RvcmFnZSIsIiRzdG9yYWdlIiwiZGVmYXVsdFNldHRpbmdzIiwibG9hZGluZ05hdkJhciIsIm5hdmJhciIsImNoZWNrQWxsUnVsZXMiLCJjcmVhdGVOZXdSZXNvdXJjZSIsIm9wZW5XaXRoSWZjIiwicmVzZXRTZXR0aW5ncyIsImZvckVhY2giLCJub3RpZmljYXRpb25QcmVmcyIsInJlc2V0Tm90aWZpY2F0aW9uU2V0dGluZ3MiLCJyZXNldFN3aXRjaEF1dG9TYXZlIiwiJHdpbmRvdyIsInciLCJyZXNpemVOYXZiYXIiLCJ3aWR0aCIsImNoaWxkcmVuIiwiZmlyc3QiLCJhcHBlbmRUbyIsImxhc3QiLCJwcmVwZW5kVG8iLCJ0b2dnbGVDbGFzcyIsIiR3YXRjaCIsInNlc3Npb24iLCJzZXNzaW9uUm9sZXMiLCJzZXNzaW9uVmFycyIsInNlbGVjdFJvbGUiLCJyb2xlSWQiLCJ0b2dnbGVSb2xlIiwic2VsZWN0Um9sZUJ5TGFiZWwiLCJyb2xlTGFiZWwiLCJyb2xlIiwibGFiZWwiLCJpZCIsInNldCIsImFjdGl2ZSIsImdldEFjdGl2ZVJvbGVJZHMiLCJyb2xlSWRzIiwic2V0QWN0aXZlUm9sZXMiLCJwcm9taXNlcyIsInNpZ25hbHMiLCJpbnZhcmlhbnRzIiwiaW5mb3MiLCJzdWNjZXNzZXMiLCJ3YXJuaW5ncyIsImVycm9ycyIsImFkZFN1Y2Nlc3MiLCJzd2l0Y2hBdXRvSGlkZVN1Y2Nlc3NlcyIsImNvdW50IiwicGVyc2lzdGVudCIsImFscmVhZHlFeGlzdHMiLCJpIiwiYWRkV2FybmluZyIsImxvY2FsU3RvcmFnZSIsImNsb3NlQWxlcnQiLCJhbGVydHMiXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLGdCQUFBLGFBQUEsVUFBQSxhQUFBLGNBQUEsZUFBQSxXQUFBLFNBQUEsVUFBQSxpQkFBQSxZQUFBLG9CQUFBLDhCQUFBLGNBQ0FDLFFBQUEsaUJBQUEsU0FBQUMsR0FDQUEsRUFFQUMsS0FBQSxLQUNBQyxXQUFBLEdBQ0FDLFlBQUEsMkJBQ0FDLGVBQUEsU0FHQUgsS0FBQSxvQkFDQUMsV0FBQSxzQkFDQUMsWUFBQSwrQkFDQUMsZUFBQSxjQUVBSCxLQUFBLFFBQ0FFLFlBQUEsMEJBQ0FDLGVBQUEsUUFFQUMsV0FBQUMsV0FBQSxZQUNBUCxRQUFBLHNCQUFBLFNBQUFRLEdBRUFBLEVBQUFDLFdBQUEsVUFDQUQsRUFBQUUsbUJBQUFDLGVBQUEsd0JBR0FDLEtBQUEsY0FBQSxhQUFBLFlBQUEsU0FBQSxzQkFBQSxjQUFBLHVCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUFOLEVBQUFPLDBCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0EsT0FB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ekwsRUFBQTlDLGNBQUFrTyxZQUNBcEwsRUFBQTlDLGNBQUFnTyxTQUNBbEwsRUFBQTlDLGNBQUErTixnQkFJQWpMLEVBQUE4TCxXQUFBLFNBQUFDLEVBQUFsRixHQUNBa0YsRUFBQXRGLE9BQUFJLEVBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gd2hlbiB1c2luZyBtaW5pZmllZCBhbmd1bGFyIG1vZHVsZXMsIHVzZSBtb2R1bGUoJ215QXBwJywgW10pLmNvbnRyb2xsZXIoJ015Q29udHJvbGxlcicsIFsnbXlTZXJ2aWNlJywgZnVuY3Rpb24gKG15U2VydmljZSkgeyAuLi5cclxuYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcsIFsnbmdSZXNvdXJjZScsICduZ1JvdXRlJywgJ25nU2FuaXRpemUnLCAncmVzdGFuZ3VsYXInLCAndWkuYm9vdHN0cmFwJywgJ3VpU3dpdGNoJywgJ2NnQnVzeScsICdzaVRhYmxlJywgJ25nLWNvZGUtbWlycm9yJywgJ25nU3RvcmFnZScsICdhbmd1bGFyRmlsZVVwbG9hZCcsICd1aS5ib290c3RyYXAuZGF0ZXRpbWVwaWNrZXInLCAnaGMubWFya2VkJ10pXHJcbi5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICRyb3V0ZVByb3ZpZGVyXHJcbiAgICAgICAgLy8gZGVmYXVsdCBzdGFydCBwYWdlXHJcbiAgICAgICAgLndoZW4oJy8nLCB7IFxyXG4gICAgICAgICAgICBjb250cm9sbGVyIDogJycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogJ2FwcC9zcmMvc2hhcmVkL2hvbWUuaHRtbCcsXHJcbiAgICAgICAgICAgIGludGVyZmFjZUxhYmVsIDogJ0hvbWUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgLy8gaW5zdGFsbGVyIHBhZ2VcclxuICAgICAgICAud2hlbignL2FkbWluL2luc3RhbGxlcicsIHtcclxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdJbnN0YWxsZXJDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmwgOiAnYXBwL3NyYy9hZG1pbi9pbnN0YWxsZXIuaHRtbCcsXHJcbiAgICAgICAgICAgIGludGVyZmFjZUxhYmVsIDogJ0luc3RhbGxlcidcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAud2hlbignLzQwNCcsIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc3JjL3NoYXJlZC80MDQuaHRtbCcsXHJcbiAgICAgICAgICAgIGludGVyZmFjZUxhYmVsOiAnNDA0J1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIC5vdGhlcndpc2Uoe3JlZGlyZWN0VG86ICcvNDA0J30pO1xyXG59KS5jb25maWcoZnVuY3Rpb24oUmVzdGFuZ3VsYXJQcm92aWRlcikge1xyXG4gICAgXHJcbiAgICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoJ2FwaS92MScpOyAvLyBHZW5lcmF0ZTogcGF0aCB0byBBUEkgZm9sZGVyXHJcbiAgICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldERlZmF1bHRIZWFkZXJzKHtcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIn0pO1xyXG4gICAgLy8gUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRQbGFpbkJ5RGVmYXVsdCh0cnVlKTsgYXZhaWxhYmxlIGZyb20gUmVzdGFuZ3VsYXIgdjEuNS4zXHJcbiAgICBcclxufSkucnVuKGZ1bmN0aW9uKFJlc3Rhbmd1bGFyLCAkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRyb3V0ZSwgTm90aWZpY2F0aW9uU2VydmljZSwgUm9sZVNlcnZpY2UsIE5hdmlnYXRpb25CYXJTZXJ2aWNlKXtcclxuXHJcbiAgICBSZXN0YW5ndWxhci5hZGRGdWxsUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uKGVsZW1lbnQsIG9wZXJhdGlvbiwgd2hhdCwgdXJsLCBoZWFkZXJzLCBwYXJhbXMpe1xyXG4gICAgICAgIC8vcGFyYW1zLm5hdklmYyA9IHRydWU7XHJcbiAgICAgICAgLy9wYXJhbXMubWV0YURhdGEgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBwYXJhbXM7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgUmVzdGFuZ3VsYXIuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbihkYXRhLCBvcGVyYXRpb24sIHdoYXQsIHVybCwgcmVzcG9uc2UsIGRlZmVycmVkKXtcclxuICAgICAgICBpZihvcGVyYXRpb24gIT0gJ2dldCcgJiYgb3BlcmF0aW9uICE9ICdnZXRMaXN0JyAmJiBkYXRhLnNlc3Npb25SZWZyZXNoQWR2aWNlKSBOYXZpZ2F0aW9uQmFyU2VydmljZS5yZWZyZXNoTmF2QmFyKCk7XHJcblx0XHRpZihkYXRhLm5hdlRvICE9IG51bGwpICRsb2NhdGlvbi51cmwoZGF0YS5uYXZUbyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgUmVzdGFuZ3VsYXIuc2V0RXJyb3JJbnRlcmNlcHRvcihmdW5jdGlvbihyZXNwb25zZSwgZGVmZXJyZWQsIHJlc3BvbnNlSGFuZGxlcikge1xyXG4gICAgICAgIC8vIDQwMTogVW5hdXRob3JpemVkXHJcbiAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09IDQwMSkge1xyXG4gICAgICAgICAgICBSb2xlU2VydmljZS5kZWFjdGl2YXRlQWxsUm9sZXMoKTtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJycpOyAvLyBUT0RPOiByZWRpcmVjdCB0byBsb2dpbiBwYWdlIChpZiBleGlzdHMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBtZXNzYWdlO1xyXG4gICAgICAgIHZhciBkZXRhaWxzO1xyXG4gICAgICAgIGlmKHR5cGVvZiByZXNwb25zZS5kYXRhID09PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEuZXJyb3IgPT0gNDA0KSB7XHJcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmFkZEluZm8ocmVzcG9uc2UuZGF0YS5tc2cgfHwgJ1Jlc291cmNlIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEubXNnIHx8IHJlc3BvbnNlLnN0YXR1c1RleHQ7IC8vIGlmIGVtcHR5IHJlc3BvbnNlIG1lc3NhZ2UsIHRha2Ugc3RhdHVzVGV4dFxyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5hZGRFcnJvcihtZXNzYWdlLCByZXNwb25zZS5zdGF0dXMsIHRydWUsIHJlc3BvbnNlLmRhdGEuaHRtbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEubm90aWZpY2F0aW9ucyAhPT0gdW5kZWZpbmVkKSBOb3RpZmljYXRpb25TZXJ2aWNlLnVwZGF0ZU5vdGlmaWNhdGlvbnMocmVzcG9uc2UuZGF0YS5ub3RpZmljYXRpb25zKTsgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZS5zdGF0dXMgKyAnICcgKyByZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICBkZXRhaWxzID0gcmVzcG9uc2UuZGF0YTsgLy8gaHRtbCBjb250ZW50IGlzIGV4Y2VwdGVkXHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UuYWRkRXJyb3IobWVzc2FnZSwgcmVzcG9uc2Uuc3RhdHVzLCB0cnVlLCBkZXRhaWxzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIHByb2NlZWQgd2l0aCBzdWNjZXNzIG9yIGVycm9yIGhvb2tzIG9mIHByb21pc2VcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkcm9vdFNjb3BlLmdldEN1cnJlbnREYXRlVGltZSA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gQWRkIGZlYXR1cmUgdG8gJGxvY2F0aW9uLnVybCgpIGZ1bmN0aW9uIHRvIGJlIGFibGUgdG8gcHJldmVudCByZWxvYWRpbmcgcGFnZSAoc2V0IHJlbG9hZCBwYXJhbSB0byBmYWxzZSlcclxuICAgIHZhciBvcmlnaW5hbCA9ICRsb2NhdGlvbi51cmw7XHJcbiAgICAkbG9jYXRpb24udXJsID0gZnVuY3Rpb24gKHVybCwgcmVsb2FkKSB7XHJcbiAgICAgICAgaWYgKHJlbG9hZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RSb3V0ZSA9ICRyb3V0ZS5jdXJyZW50O1xyXG4gICAgICAgICAgICB2YXIgdW4gPSAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb3V0ZS5jdXJyZW50ID0gbGFzdFJvdXRlO1xyXG4gICAgICAgICAgICAgICAgdW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSgkbG9jYXRpb24sIFt1cmxdKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG59KS52YWx1ZSgnY2dCdXN5RGVmYXVsdHMnLHtcclxuICAgIG1lc3NhZ2U6J0xvYWRpbmcuLi4nLFxyXG4gICAgYmFja2Ryb3A6IHRydWUsXHJcbiAgICAvL3RlbXBsYXRlVXJsOiAnbXlfY3VzdG9tX3RlbXBsYXRlLmh0bWwnLFxyXG4gICAgLy9kZWxheTogNTAwLCAvLyBpbiBtc1xyXG4gICAgbWluRHVyYXRpb246IDUwMCwgLy8gaW4gbXNcclxuICAgIC8vIHdyYXBwZXJDbGFzczogJ215LWNsYXNzIG15LWNsYXNzMidcclxufSkuZGlyZWN0aXZlKCdteVNob3dvbmhvdmVyQm94JywgZnVuY3Rpb24gKCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGxpbmsgOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgaWYoIWVsZW1lbnQuY2xvc2VzdCgnLmJveCcpLmhhc0NsYXNzKCdteS1zaG93b25ob3Zlci1ib3gtc2hvdycpKSBlbGVtZW50LmhpZGUoKTsgLy8gZGVmYXVsdCBoaWRlXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJy5ib3gnKS5iaW5kKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJy5ib3gnKS5hZGRDbGFzcygnbXktc2hvd29uaG92ZXItYm94LXNob3cnKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2hvdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWxlbWVudC5jbG9zZXN0KCcuYm94JykuYmluZCgnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbG9zZXN0KCcuYm94JykucmVtb3ZlQ2xhc3MoJ215LXNob3dvbmhvdmVyLWJveC1zaG93Jyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmhpZGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSkuZGlyZWN0aXZlKCdteUJsdXJvbmVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKFwia2V5ZG93biBrZXlwcmVzc1wiLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICBpZihldmVudC53aGljaCA9PT0gMTMpIHsgLy8gMTMgPSBDYXJyaWFnZSByZXR1cm5cclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufSkuZmlsdGVyKCd0b0FycmF5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAvLyB1c2VkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRlYmFjb25kYXJ3aW4vYW5ndWxhci10b0FycmF5RmlsdGVyXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgYWRkS2V5KSB7XHJcbiAgICAgICAgaWYgKCFvYmopIHJldHVybiBvYmo7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgcmV0dXJuIG9iajsgLy8gb2JqIGlzIGFscmVhZHkgYW4gYXJyYXlcclxuICAgICAgICBpZiAoIGFkZEtleSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9ialtrZXldLCAnJGtleScsIHsgZW51bWVyYWJsZTogZmFsc2UsIHZhbHVlOiBrZXl9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxufSkuZGlyZWN0aXZlKCdteU5hdlRvSW50ZXJmYWNlcycsIGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0IDogJ0UnLFxyXG4gICAgICAgIHNjb3BlIDoge3Jlc291cmNlIDogJz0nLCB0YXJnZXQgOiAnQCd9LCAvLyAnPScgPT4gdHdvLXdheSBiaW5kLCAnQCcgPT4gZXZhbHVhdGVzIHN0cmluZyAodXNlIHt7fX0gaW4gaHRtbCkgXHJcbiAgICAgICAgdGVtcGxhdGVVcmwgOiAnYXBwL3NyYy9zaGFyZWQvcGFydGlhbHMvbXlOYXZUb0ludGVyZmFjZXMuaHRtbCcsXHJcbiAgICAgICAgdHJhbnNjbHVkZSA6IHRydWVcclxuICAgIH07XHJcbn0pLmRpcmVjdGl2ZSgnbXlOYXZUb090aGVySW50ZXJmYWNlcycsIGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0IDogJ0UnLFxyXG4gICAgICAgIHNjb3BlICA6IHtyZXNvdXJjZSA6ICc9JywgdGFyZ2V0IDogJ0AnfSwgLy8gJz0nID0+IHR3by13YXkgYmluZCwgJ0AnID0+IGV2YWx1YXRlcyBzdHJpbmcgKHVzZSB7e319IGluIGh0bWwpIFxyXG4gICAgICAgIHRlbXBsYXRlVXJsIDogJ2FwcC9zcmMvc2hhcmVkL3BhcnRpYWxzL215TmF2VG9PdGhlckludGVyZmFjZXMuaHRtbCdcclxuICAgIH07XHJcbn0pLmZpbHRlcigndW5zYWZlJywgZnVuY3Rpb24oJHNjZSl7XHJcbiAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbDtcclxufSk7IiwiLy8gQ29udHJvbGxlciBmb3IgZXh0ZW5zaW9uIGFwcCBpbiBuYXZpZ2F0aW9uIGJhclxyXG5hbmd1bGFyLm1vZHVsZSgnQW1wZXJzYW5kQXBwJykuY29udHJvbGxlcignRXhlY0VuZ2luZUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJHNjb3BlLCBSZXN0YW5ndWxhciwgTm90aWZpY2F0aW9uU2VydmljZSkge1xyXG4gICAgJHNjb3BlLnJ1biA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgIFJlc3Rhbmd1bGFyLm9uZSgnYWRtaW4vZXhlY2VuZ2luZS9ydW4nKS5nZXQoKVxyXG4gICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICBmdW5jdGlvbihkYXRhKXsgLy8gb24gc3VjY2Vzc1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEucGxhaW4oKTtcclxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UudXBkYXRlTm90aWZpY2F0aW9ucyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnQW1wZXJzYW5kQXBwJykuY29udHJvbGxlcignSW5zdGFsbGVyQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsIFJlc3Rhbmd1bGFyLCBOb3RpZmljYXRpb25TZXJ2aWNlLCBSb2xlU2VydmljZSkge1xyXG4gICAgJHNjb3BlLmluc3RhbGxpbmcgPSBmYWxzZTtcclxuICAgICRzY29wZS5pbnN0YWxsZWQgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgJHNjb3BlLmluc3RhbGwgPSBmdW5jdGlvbihkZWZQb3Ape1xyXG4gICAgICAgICRzY29wZS5pbnN0YWxsaW5nID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuaW5zdGFsbGVkID0gZmFsc2U7XHJcbiAgICAgICAgUmVzdGFuZ3VsYXIub25lKCdhZG1pbi9pbnN0YWxsZXInKS5nZXQoe2RlZmF1bHRQb3AgOiBkZWZQb3B9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YSA9IGRhdGEucGxhaW4oKTtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb25zKGRhdGEpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gZGVhY3RpdmUgYWxsIHJvbGVzXHJcbiAgICAgICAgICAgIFJvbGVTZXJ2aWNlLmRlYWN0aXZhdGVBbGxSb2xlcygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmluc3RhbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmluc3RhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHNjb3BlLmluc3RhbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmluc3RhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnQW1wZXJzYW5kQXBwJykuY29udHJvbGxlcignQXRvbWljQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgUmVzb3VyY2VTZXJ2aWNlKXtcclxuICAgIFxyXG4gICAgLypcclxuICAgICAqIE9iamVjdCB0byB0ZW1wb3Jhcnkgc3RvcmUgdmFsdWUvcmVzb3VyY2VJZCB0byBhZGQgdG8gbGlzdFxyXG4gICAgICogVmFsdWUvcmVzb3VyY2VJZCBpcyBzdG9yZWQgYXMgcHJvcGVydHkgb2YgJ3NlbGVjdGVkJyBvYmouIFRoaXMgaXMgbmVlZGVkIHRvIHBhc3MgaXQgYXJvdW5kIGJ5IHJlZmVyZW5jZVxyXG4gICAgICovXHJcbiAgICAkc2NvcGUuc2VsZWN0ZWQgPSB7fTtcclxuICAgIFxyXG4gICAgJHNjb3BlLnNhdmVJdGVtID0gUmVzb3VyY2VTZXJ2aWNlLnNhdmVJdGVtOyAvLyBmdW5jdGlvbihyZXNvdXJjZSwgaWZjLCBwYXRjaFJlc291cmNlKVxyXG4gICAgXHJcbiAgICAkc2NvcGUuYWRkSXRlbSA9IFJlc291cmNlU2VydmljZS5hZGRJdGVtOyAvLyBmdW5jdGlvbihyZXNvdXJjZSwgaWZjLCBzZWxlY3RlZCwgcGF0Y2hSZXNvdXJjZSlcclxuICAgIFxyXG4gICAgJHNjb3BlLnJlbW92ZUl0ZW0gPSBSZXNvdXJjZVNlcnZpY2UucmVtb3ZlSXRlbTsgLy8gZnVuY3Rpb24ocmVzb3VyY2UsIGlmYywgaW5kZXgsIHBhdGNoUmVzb3VyY2UpXHJcbiAgICBcclxuICAgICRzY29wZS5yZW1vdmUgPSBSZXNvdXJjZVNlcnZpY2UucmVtb3ZlUmVzb3VyY2U7IC8vIGZ1bmN0aW9uKGlmYywgcmVzb3VyY2UsIHBhdGNoUmVzb3VyY2UpXHJcbiAgICBcclxuICAgICRzY29wZS5kZWxldGUgPSBSZXNvdXJjZVNlcnZpY2UuZGVsZXRlUmVzb3VyY2U7IC8vIGZ1bmN0aW9uKGlmYywgcmVzb3VyY2UpXHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBbXBlcnNhbmRBcHAnKS5jb250cm9sbGVyKCdBdG9taWNEYXRlQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsIFJlc291cmNlU2VydmljZSkge1xyXG4gICAgXHJcbiAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XHJcbiAgICBcclxuICAgICRzY29wZS5vcGVuRGF0ZXBpY2tlciA9IGZ1bmN0aW9uKCRldmVudCl7XHJcbiAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICRzY29wZS5pc09wZW4gPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gQWRkcyBsZWFkaW5nIDAgaWYgbmVjZXNhcnJ5LiBSZXR1cm5zIDIgZGlnaXRzLlxyXG4gICAgZnVuY3Rpb24gcGFkKG51bWJlcikge1xyXG4gICAgICAgIHZhciByID0gU3RyaW5nKG51bWJlcik7XHJcbiAgICAgICAgaWYgKCByLmxlbmd0aCA9PT0gMSApIHtcclxuICAgICAgICAgICAgciA9ICcwJyArIHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBtb2RpZnlUb0pTT04ob2JqKXtcclxuICAgICAgICBpZihvYmogIT09IG51bGwpe1xyXG4gICAgICAgICAgICBvYmoudG9KU09OID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgKyBcclxuICAgICAgICAgICAgICAgICAgICAnLScgKyBwYWQodGhpcy5nZXRNb250aCgpICsgMSkgKyAvLyBUaGUgZ2V0TW9udGgoKSBtZXRob2QgcmV0dXJucyB0aGUgbW9udGggaW4gdGhlIHNwZWNpZmllZCBkYXRlIGFjY29yZGluZyB0byBsb2NhbCB0aW1lLCBhcyBhIHplcm8tYmFzZWQgdmFsdWUgKHdoZXJlIHplcm8gaW5kaWNhdGVzIHRoZSBmaXJzdCBtb250aCBvZiB0aGUgeWVhcikuXHJcbiAgICAgICAgICAgICAgICAgICAgJy0nICsgcGFkKHRoaXMuZ2V0RGF0ZSgpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgICRzY29wZS5zZWxlY3RlZCA9IHsgdmFsdWUgOiAnJ307IC8vIGFuIGVtcHR5IG9iamVjdCBmb3IgdGVtcG9yYXJ5IHN0b3JpbmcgdGhlIGlucHV0IHZhbHVlc1xyXG4gICAgXHJcbiAgICAkc2NvcGUuc2F2ZURhdGVJdGVtID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSwgcGF0Y2hSZXNvdXJjZSl7XHJcbiAgICAgICAgbW9kaWZ5VG9KU09OKG9ialtwcm9wZXJ0eV0pO1xyXG4gICAgICAgIFJlc291cmNlU2VydmljZS5zYXZlSXRlbShvYmosIHByb3BlcnR5LCBwYXRjaFJlc291cmNlKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgICRzY29wZS5hZGREYXRlSXRlbSA9IGZ1bmN0aW9uKG9iaiwgcHJvcGVydHksIHNlbGVjdGVkLCBwYXRjaFJlc291cmNlKXtcclxuICAgICAgICBpZihzZWxlY3RlZC52YWx1ZSAhPT0gJycpe1xyXG4gICAgICAgICAgICBtb2RpZnlUb0pTT04oc2VsZWN0ZWQudmFsdWUpO1xyXG4gICAgICAgICAgICBSZXNvdXJjZVNlcnZpY2UuYWRkSXRlbShvYmosIHByb3BlcnR5LCBzZWxlY3RlZCwgcGF0Y2hSZXNvdXJjZSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbXB0eSBkYXRlIHNlbGVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcpLmNvbnRyb2xsZXIoJ0F0b21pY1R5cGVBaGVhZENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIFJlc3Rhbmd1bGFyLCBSZXNvdXJjZVNlcnZpY2Upe1xyXG4gICAgXHJcbiAgICAvKlxyXG4gICAgICogT2JqZWN0IHRvIHRlbXBvcmFyeSBzdG9yZSB2YWx1ZS9yZXNvdXJjZUlkIHRvIGFkZCB0byBsaXN0XHJcbiAgICAgKiBWYWx1ZS9yZXNvdXJjZUlkIGlzIHN0b3JlZCBhcyBwcm9wZXJ0eSBvZiAnc2VsZWN0ZWQnIG9iai4gVGhpcyBpcyBuZWVkZWQgdG8gcGFzcyBpdCBhcm91bmQgYnkgcmVmZXJlbmNlXHJcbiAgICAgKi9cclxuICAgICRzY29wZS5zZWxlY3RlZCA9IHt9O1xyXG4gICAgXHJcbiAgICAkc2NvcGUuaGFzTm9SZXN1bHRzID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiBUeXBlYWhlYWQgb2JqZWN0IGlzIGRlY2xhcmVkIGluIGludGVyZmFjZS5jb250cm9sbGVyLmpzXHJcbiAgICAgKiBUaGVyZWJ5IHR5cGVhaGVhZCBpcyBjYWxsZWQgb25seSBvbmNlIGZvciBldmVyeSByZXNvdXJjZVR5cGUgcGVyIGludGVyZmFjZVxyXG4gICAgICovXHJcbiAgICAvLyAkc2NvcGUudHlwZWFoZWFkID0ge307XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiBUeXBlYWhlYWQgZnVuY3Rpb25hbGl0eVxyXG4gICAgICogJHNjb3BlLnR5cGVhaGVhZCBpcyBpbml0aWF0ZWQgaW4gSW50ZXJmYWNlQ29udHJvbGxlciB0byBiZSBhYmxlIHRvIHJldXNlIHR5cGVhaGVhZCBkYXRhXHJcbiAgICAgKi9cclxuICAgICRzY29wZS5nZXRUeXBlYWhlYWQgPSBmdW5jdGlvbihyZXNvdXJjZVR5cGUsIGZvcmNlR2V0Q2FsbCl7XHJcbiAgICAgICAgZm9yY2VHZXRDYWxsID0gdHlwZW9mIGZvcmNlR2V0Q2FsbCAhPT0gJ3VuZGVmaW5lZCcgPyBmb3JjZUdldENhbGwgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gT25seSBpZiBub3QgeWV0IHNldFxyXG4gICAgICAgIGlmKHR5cGVvZiAkc2NvcGUudHlwZWFoZWFkW3Jlc291cmNlVHlwZV0gPT09ICd1bmRlZmluZWQnIHx8IGZvcmNlR2V0Q2FsbCl7XHJcbiAgICAgICAgICAgICRzY29wZS50eXBlYWhlYWRbcmVzb3VyY2VUeXBlXSA9IFJlc3Rhbmd1bGFyLmFsbCgncmVzb3VyY2UvJyArIHJlc291cmNlVHlwZSkuZ2V0TGlzdCgpLiRvYmplY3Q7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgJHNjb3BlLnR5cGVhaGVhZE9uU2VsZWN0ID0gZnVuY3Rpb24gKCRpdGVtLCAkbW9kZWwsICRsYWJlbCwgcmVzb3VyY2UsIGlmYywgcGF0Y2hSZXNvdXJjZSl7XHJcbiAgICAgICAgaWYodHlwZW9mICRpdGVtLl9pZF8gPT09ICd1bmRlZmluZWQnKSBjb25zb2xlLmxvZygnUmVzb3VyY2UgaWQgdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgZWxzZSBpZigkaXRlbS5faWRfID09PSAnJykgY29uc29sZS5sb2coJ0VtcHR5IHJlc291cmNlIGlkIHByb3ZpZGVkJyk7XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShyZXNvdXJjZVtpZmNdKSl7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGFwdCBpbiBqcyBtb2RlbFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VbaWZjXS5wdXNoKGFuZ3VsYXIuY29weSgkaXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBDb25zdHJ1Y3QgcGF0Y2goZXMpXHJcbiAgICAgICAgICAgICAgICBwYXRjaCA9IFJlc291cmNlU2VydmljZS5jcmVhdGVQYXRjaCgnYWRkJywgcmVzb3VyY2UsIHBhdGNoUmVzb3VyY2UsIGlmYywgJGl0ZW0uX2lkXyk7XHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZVNlcnZpY2UuYWRkUGF0Y2hlcyhwYXRjaFJlc291cmNlLCBbcGF0Y2hdKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ZWxzZSBpZihyZXNvdXJjZVtpZmNdID09PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIC8vIEFkYXB0IGpzIG1vZGVsXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZVtpZmNdID0gYW5ndWxhci5jb3B5KCRpdGVtKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IHBhdGNoKGVzKVxyXG4gICAgICAgICAgICAgICAgcGF0Y2ggPSBSZXNvdXJjZVNlcnZpY2UuY3JlYXRlUGF0Y2goJ3JlcGxhY2UnLCByZXNvdXJjZSwgcGF0Y2hSZXNvdXJjZSwgaWZjLCAkaXRlbS5faWRfKTtcclxuICAgICAgICAgICAgICAgIFJlc291cmNlU2VydmljZS5hZGRQYXRjaGVzKHBhdGNoUmVzb3VyY2UsIFtwYXRjaF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgY29uc29sZS5sb2coJ0Vycm9yOiBQcm9wZXJ0eSBhbHJlYWR5IHNldCBhbmQvb3Igbm90IGRlZmluZWQnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5oYXNOb1Jlc3VsdHMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRW1wdHkgc2VsZWN0ZWQgaW5wdXRcclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWQudmFsdWUgPSAnJztcclxuICAgIH07XHJcbiAgICBcclxuICAgICRzY29wZS50eXBlQWhlYWRDcmVhdGUgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGlmYywgc2VsZWN0ZWQsIHBhdGNoUmVzb3VyY2UsIHJlc291cmNlVHlwZSl7XHJcbiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShyZXNvdXJjZVtpZmNdKSkgeyBcclxuICAgICAgICAgICAgUmVzb3VyY2VTZXJ2aWNlLmFkZEl0ZW0ocmVzb3VyY2UsIGlmYywgc2VsZWN0ZWQsIHBhdGNoUmVzb3VyY2UpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRUeXBlYWhlYWQocmVzb3VyY2VUeXBlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYocmVzb3VyY2VbaWZjXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXNvdXJjZVtpZmNdID0gc2VsZWN0ZWQudmFsdWU7XHJcbiAgICAgICAgICAgIFJlc291cmNlU2VydmljZS5zYXZlSXRlbShyZXNvdXJjZSwgaWZjLCBwYXRjaFJlc291cmNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3I6IFByb3BlcnR5IGFscmVhZHkgc2V0IGFuZC9vciBub3QgZGVmaW5lZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBbXBlcnNhbmRBcHAnKS5jb250cm9sbGVyKCdBdG9taWNVcGxvYWRGaWxlQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgRmlsZVVwbG9hZGVyLCBOb3RpZmljYXRpb25TZXJ2aWNlKXtcclxuICAgIFxyXG4gICAgLy8gRmlsZSB1cGxvYWRlciBzdHVmZlxyXG4gICAgJHNjb3BlLkZpbGVVcGxvYWRlciA9IG5ldyBGaWxlVXBsb2FkZXIoe1xyXG4gICAgICAgIGFsaWFzIDogJ2ZpbGUnLCAvLyBmaWVsZG5hbWUgYXMgdXNlZCBpbiAkX0ZJTEVTWydmaWxlJ11cclxuICAgICAgICBmb3JtRGF0YSA6IFtdLFxyXG4gICAgICAgIHJlbW92ZUFmdGVyVXBsb2FkIDogdHJ1ZSxcclxuICAgICAgICBhdXRvVXBsb2FkIDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICRzY29wZS5GaWxlVXBsb2FkZXIub25TdWNjZXNzSXRlbSA9IGZ1bmN0aW9uKGZpbGVJdGVtLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzKXtcclxuICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLnVwZGF0ZU5vdGlmaWNhdGlvbnMocmVzcG9uc2Uubm90aWZpY2F0aW9ucyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGNvbnRlbnQgKG5ld2x5IGNyZWF0ZWQgRmlsZU9iamVjdCkgdG8gaWZjIGxpc3QgaW4gcmVzb3VyY2VcclxuICAgICAgICBmaWxlSXRlbS5yZXNvdXJjZVtmaWxlSXRlbS5pZmNdLnB1c2gocmVzcG9uc2UuY29udGVudCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAkc2NvcGUuRmlsZVVwbG9hZGVyLm9uRXJyb3JJdGVtID0gZnVuY3Rpb24oaXRlbSwgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycyl7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5hZGRFcnJvcihyZXNwb25zZS5lcnJvci5tZXNzYWdlLCByZXNwb25zZS5lcnJvci5jb2RlLCB0cnVlKTtcclxuICAgIH07XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBbXBlcnNhbmRBcHAnKS5jb250cm9sbGVyKCdCb3hDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCBSZXNvdXJjZVNlcnZpY2Upe1xyXG4gICAgXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjcmVhdGUgYSBuZXcgcmVzb3VyY2UgKGRvZXMgYSBQT1NUKVxyXG4gICAgJHNjb3BlLmNyZWF0ZVJlc291cmNlID0gUmVzb3VyY2VTZXJ2aWNlLmNyZWF0ZVJlc291cmNlOyAvLyBmdW5jdGlvbihyZXNvdXJjZSwgaWZjLCBjYWxsaW5nT2JqLCBwcmVwZW5kKVxyXG4gICAgXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIGNlcnRhaW4gYXR0cmlidXRlcyBjaGFuZ2VzIG9mIGEgcmVzb3VyY2UgKGRvZXMgYSBQQVRDSClcclxuICAgICRzY29wZS5zYXZlID0gUmVzb3VyY2VTZXJ2aWNlLnNhdmVSZXNvdXJjZTsgLy8gZnVuY3Rpb24ocmVzb3VyY2UpXHJcbiAgICBcclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNhbmNlbCB1bnNhdmVkIGVkaXRzIChkb2VzIGEgR0VUKVxyXG4gICAgJHNjb3BlLmNhbmNlbCA9IFJlc291cmNlU2VydmljZS5jYW5jZWxSZXNvdXJjZTsgLy8gZnVuY3Rpb24ocmVzb3VyY2UpXHJcbiAgICBcclxuICAgIC8vIEZ1bmN0aW9uIHRvIHJlbW92ZSBhIHJlc291cmNlIGZyb20gYW4gaW50ZXJmYWNlIChsaXN0KVxyXG4gICAgJHNjb3BlLnJlbW92ZSA9IFJlc291cmNlU2VydmljZS5yZW1vdmVSZXNvdXJjZTsgLy8gZnVuY3Rpb24oaWZjLCByZXNvdXJjZSwgcGF0Y2hSZXNvdXJjZSlcclxuICAgIFxyXG4gICAgLy8gRnVuY3Rpb24gdG8gZGVsZXRlIGEgcmVzb3VyY2VcclxuICAgICRzY29wZS5kZWxldGUgPSBSZXNvdXJjZVNlcnZpY2UuZGVsZXRlUmVzb3VyY2U7IC8vIGZ1bmN0aW9uKGlmYywgcmVzb3VyY2UpXHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBbXBlcnNhbmRBcHAnKS5jb250cm9sbGVyKCdJbnRlcmZhY2VDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9jYXRpb24sIFJlc291cmNlU2VydmljZSl7XHJcbiAgICAvKlxyXG4gICAgICogQW4gZW1wdHkgb2JqZWN0IGZvciB0eXBlYWhlYWQgZnVuY3Rpb25hbGl0eS5cclxuICAgICAqIERlZmluZWQgaGVyZSBzbyBpdCBjYW4gYmUgcmV1c2VkIGluIGFuIGludGVyZmFjZVxyXG4gICAgICogUHJldmVudHMgbXVsdGlwbGUgY2FsbHMgZm9yIHRoZSBzYW1lIHJlc291cmNlVHlwZVxyXG4gICAgICovXHJcbiAgICAkc2NvcGUudHlwZWFoZWFkID0ge307XHJcbiAgICBcclxuICAgIC8vIERldGVjdHMgbG9jYXRpb24gY2hhbmdlcyBhbmQgY2hlY2tzIGlmIHRoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXNcclxuICAgICRzY29wZS4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLCBmdW5jdGlvbihldmVudCwgbmV4dCwgY3VycmVudCl7XHJcbiAgICAgICAgaWYoUmVzb3VyY2VTZXJ2aWNlLmNoZWNrUmVxdWlyZWQoKSl7XHJcbiAgICAgICAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oXCJZb3UgaGF2ZSB1bnNhdmVkIGVkaXRzLiBEbyB5b3Ugd2lzaCB0byBsZWF2ZT9cIik7XHJcbiAgICAgICAgICAgIGlmIChldmVudCAmJiAhY29uZmlybWVkKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKGV2ZW50ICYmIGNvbmZpcm1lZCkgUmVzb3VyY2VTZXJ2aWNlLmVtcHR5VXBkYXRlZFJlc291cmNlcygpO1xyXG4gICAgICAgICAgICBlbHNlIGNvbnNvbGUubG9nKCdTb21ldGluZyB3ZW50IHdyb25nLiBDYW5ub3QgZGV0ZXJtaW5lIGFjdGlvbiBhZnRlciBsb2NhdGlvbkNoYW5nZVN0YXJ0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoYW5nZSBsb2NhdGlvbiB0byBjcmVhdGUgYSBuZXcgcmVzb3VyY2VcclxuICAgICRzY29wZS5uZXdSZXNvdXJjZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJGxvY2F0aW9uLnVybCgnLycgKyBpZmNOYW1lICsgJz9uZXcnKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEZ1bmN0aW9uIChyZWZlcmVuY2UpIHRvIGNoZWNrIGlmIHRoZXJlIGFyZSBwZW5kaW5nIHByb21pc2VzIGZvciBhIHJlc291cmNlXHJcbiAgICAkc2NvcGUucGVuZGluZ1Byb21pc2VzID0gUmVzb3VyY2VTZXJ2aWNlLnBlbmRpbmdQcm9taXNlcztcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcpLnNlcnZpY2UoJ1Jlc291cmNlU2VydmljZScsIGZ1bmN0aW9uKCRsb2NhbFN0b3JhZ2UsICR0aW1lb3V0LCAkbG9jYXRpb24sIFJlc3Rhbmd1bGFyLCBOb3RpZmljYXRpb25TZXJ2aWNlKXtcclxuICAgIC8vIGh0dHA6Ly9ibG9nLnRob3VnaHRyYW0uaW8vYW5ndWxhci8yMDE1LzA3LzA3L3NlcnZpY2UtdnMtZmFjdG9yeS1vbmNlLWFuZC1mb3ItYWxsLmh0bWxcclxuICAgIFxyXG4gICAgbGV0IHVwZGF0ZWRSZXNvdXJjZXMgPSBbXTsgLy8gY29udGFpbnMgbGlzdCB3aXRoIHVwZGF0ZWQgcmVzb3VyY2Ugb2JqZWN0cyBpbiB0aGlzIGludGVyZmFjZS4gVXNlZCB0byBjaGVjayBpZiB0aGVyZSBhcmUgdW5jb21tbWl0dGVkIGNoYW5nZXMgKHBhdGNoZXMgaW4gY2FjaGUpXHJcbiAgICBcclxuICAgIGxldCBSZXNvdXJjZVNlcnZpY2UgPSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IHJlc291cmNlIGRhdGEgZ2l2ZW4gYSBjZXJ0YWluIGludGVyZmFjZSAoaWZjKVxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FsbGluZ09iaiB3aWxsIGJlIHVzZWQgZm9yIGxvYWRpbmcgaW5kaWNhdG9yXHJcbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0UmVzb3VyY2UgOiBmdW5jdGlvbihyZXNvdXJjZSwgaWZjLCBjYWxsaW5nT2JqKXtcclxuICAgICAgICAgICAgcHJvbWlzZSA9IFJlc3Rhbmd1bGFyXHJcbiAgICAgICAgICAgIC5vbmUocmVzb3VyY2UuX3BhdGhfICsgJy8nICsgaWZjKVxyXG4gICAgICAgICAgICAuZ2V0KClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnBsYWluKCk7XHJcbiAgICAgICAgICAgICAgICB9Y2F0Y2goZXJyb3Ipe31cclxuICAgICAgICAgICAgICAgIGlmKCQuaXNFbXB0eU9iamVjdChkYXRhKSkgTm90aWZpY2F0aW9uU2VydmljZS5hZGRJbmZvKCdObyByZXN1bHRzIGZvdW5kJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHJlc291cmNlW2lmY10gPT09IG51bGwgfHwgQXJyYXkuaXNBcnJheShyZXNvdXJjZVtpZmNdKSkgcmVzb3VyY2VbaWZjXSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGFuZ3VsYXIuZXh0ZW5kKHJlc291cmNlW2lmY10sIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZVNlcnZpY2UuaW5pdFJlc291cmNlTWV0YURhdGEocmVzb3VyY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgcHJvbWlzZSB0byBsb2FkaW5nIGxpc3RcclxuICAgICAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkoY2FsbGluZ09iai5fbG9hZGluZ18pKSBjYWxsaW5nT2JqLl9sb2FkaW5nXyA9IFtdO1xyXG4gICAgICAgICAgICBjYWxsaW5nT2JqLl9sb2FkaW5nXy5wdXNoKHByb21pc2UpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGF0Y2ggdGhlIGdpdmVuIHJlc291cmNlIGJ5IGNhbGxpbmcgdGhlIEFQSSBhbmQgc2VuZGluZyB0aGUgbGlzdCBvZiBzdG9yZWQgcGF0Y2hlcyBcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2VcclxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBzYXZlUmVzb3VyY2UgOiBmdW5jdGlvbihyZXNvdXJjZSl7XHJcbiAgICAgICAgICAgIHByb21pc2UgPSBSZXN0YW5ndWxhclxyXG4gICAgICAgICAgICAub25lKHJlc291cmNlLl9wYXRoXylcclxuICAgICAgICAgICAgLnBhdGNoKHJlc291cmNlLl9wYXRjaGVzQ2FjaGVfLCB7fSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEucGxhaW4oKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHJlc291cmNlIGRhdGFcclxuICAgICAgICAgICAgICAgIGlmKHJlc291cmNlLl9pc1Jvb3RfKSByZXNvdXJjZS5nZXQoKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgcmVzb3VyY2UgPSBhbmd1bGFyLmV4dGVuZChyZXNvdXJjZSwgZGF0YS5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHZpc3VhbCBmZWVkYmFjayAobm90aWZpY2F0aW9ucyBhbmQgYnV0dG9ucylcclxuICAgICAgICAgICAgICAgIFJlc291cmNlU2VydmljZS5wcm9jZXNzUmVzcG9uc2UocmVzb3VyY2UsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgcHJvbWlzZSB0byBsb2FkaW5nIGxpc3RcclxuICAgICAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkocmVzb3VyY2UuX2xvYWRpbmdfKSkgcmVzb3VyY2UuX2xvYWRpbmdfID0gW107XHJcbiAgICAgICAgICAgIHJlc291cmNlLl9sb2FkaW5nXy5wdXNoKHByb21pc2UpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYW5jZWwgdW5zYXZlZCBlZGl0cyBhbmQgZ2V0IHJlc291cmNlIGRhdGFcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2VcclxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjYW5jZWxSZXNvdXJjZSA6IGZ1bmN0aW9uKHJlc291cmNlKXtcclxuICAgICAgICAgICAgcHJvbWlzZSA9IFJlc3Rhbmd1bGFyXHJcbiAgICAgICAgICAgIC5vbmUocmVzb3VyY2UuX3BhdGhfKVxyXG4gICAgICAgICAgICAuZ2V0KClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5wbGFpbigpO1xyXG4gICAgICAgICAgICAgICAgaWYoJC5pc0VtcHR5T2JqZWN0KGRhdGEpKSBOb3RpZmljYXRpb25TZXJ2aWNlLmFkZEluZm8oJ05vIHJlc3VsdHMgZm91bmQnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgYW5ndWxhci5leHRlbmQocmVzb3VyY2UsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdmlzdWFsIGZlZWRiYWNrIChub3RpZmljYXRpb25zIGFuZCBidXR0b25zKVxyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5nZXROb3RpZmljYXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZVNlcnZpY2UuaW5pdFJlc291cmNlTWV0YURhdGEocmVzb3VyY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgcHJvbWlzZSB0byBsb2FkaW5nIGxpc3RcclxuICAgICAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkocmVzb3VyY2UuX2xvYWRpbmdfKSkgcmVzb3VyY2UuX2xvYWRpbmdfID0gW107XHJcbiAgICAgICAgICAgIHJlc291cmNlLl9sb2FkaW5nXy5wdXNoKHByb21pc2UpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGUgKFBPU1QpIGEgbmV3IHJlc291cmNlIHRvIGEgY2VydGFpbiBpbnRlcmZhY2UgbGlzdFxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FsbGluZ09iaiB3aWxsIGJlIHVzZWQgZm9yIGxvYWRpbmcgaW5kaWNhdG9yXHJcbiAgICAgICAgICogQHBhcmFtIHtib29sfSBwcmVwZW5kXHJcbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY3JlYXRlUmVzb3VyY2UgOiBmdW5jdGlvbihyZXNvdXJjZSwgaWZjLCBjYWxsaW5nT2JqLCBwcmVwZW5kKXtcclxuICAgICAgICAgICAgaWYocHJlcGVuZCA9PT0gJ3VuZGVmaW5lZCcpIHByZXBlbmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHByb21pc2UgPSBSZXN0YW5ndWxhclxyXG4gICAgICAgICAgICAub25lKHJlc291cmNlLl9wYXRoXykuYWxsKGlmYylcclxuICAgICAgICAgICAgLnBvc3Qoe30sIHt9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnBsYWluKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdmlzdWFsIGZlZWRiYWNrIChub3RpZmljYXRpb25zIGFuZCBidXR0b25zKVxyXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VTZXJ2aWNlLnByb2Nlc3NSZXNwb25zZShjYWxsaW5nT2JqLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXdSZXNvdXJjZSA9IGRhdGEuY29udGVudDtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIG5ldyByZXNvdXJjZSB0byBpZmNcclxuICAgICAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkocmVzb3VyY2VbaWZjXSkpeyAvLyBub24tdW5pID0gbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHByZXBlbmQpIHJlc291cmNlW2lmY10udW5zaGlmdChuZXdSZXNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSByZXNvdXJjZVtpZmNdLnB1c2gobmV3UmVzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7IC8vIHVuaSA9IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlW2lmY10gPSBuZXdSZXNvdXJjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYocmVzb3VyY2UuX2lzUm9vdF8gJiYgcmVzb3VyY2UuX2lkXyA9PSAnX05FVycpICRsb2NhdGlvbi51cmwoJy8nICsgaWZjICsgJy8nKyBuZXdSZXNvdXJjZS5faWRfLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc291cmNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwcm9taXNlIHRvIGxvYWRpbmcgbGlzdFxyXG4gICAgICAgICAgICBpZighQXJyYXkuaXNBcnJheShjYWxsaW5nT2JqLl9sb2FkaW5nXykpIGNhbGxpbmdPYmouX2xvYWRpbmdfID0gW107XHJcbiAgICAgICAgICAgIGNhbGxpbmdPYmouX2xvYWRpbmdfLnB1c2gocHJvbWlzZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlbW92ZSBhIHJlc291cmNlIGZyb20gYSBjZXJ0YWluIGludGVyZmFjZSBsaXN0XHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2VcclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2x9IHBhdGNoUmVzb3VyY2VcclxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICByZW1vdmVSZXNvdXJjZSA6IGZ1bmN0aW9uKHBhcmVudCwgaWZjLCByZXNvdXJjZSwgcGF0Y2hSZXNvdXJjZSl7XHJcbiAgICAgICAgICAgIC8vIEFkYXB0IGpzIG1vZGVsXHJcbiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkocGFyZW50W2lmY10pKSBwYXJlbnRbaWZjXS5zcGxpY2UocGFyZW50W2lmY10uaW5kZXhPZihyZXNvdXJjZSksIDEpOyAvLyBub24tdW5pID0gbGlzdFxyXG4gICAgICAgICAgICBlbHNlIHBhcmVudFtpZmNdID0gbnVsbDsgLy8gdW5pID0gb2JqZWN0XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgcGF0Y2goZXMpXHJcbiAgICAgICAgICAgIHBhdGNoID0gUmVzb3VyY2VTZXJ2aWNlLmNyZWF0ZVBhdGNoKCdyZW1vdmUnLCByZXNvdXJjZSwgcGF0Y2hSZXNvdXJjZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBSZXNvdXJjZVNlcnZpY2UuYWRkUGF0Y2hlcyhwYXRjaFJlc291cmNlLCBbcGF0Y2hdKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlbGV0ZSBhIHJlc291cmNlXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2UgdG8gZGVsZXRlXHJcbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGVsZXRlUmVzb3VyY2UgOiBmdW5jdGlvbihwYXJlbnQsIGlmYywgcmVzb3VyY2Upe1xyXG4gICAgICAgICAgICBpZihjb25maXJtKCdBcmUgeW91IHN1cmU/Jykpe1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9IFJlc3Rhbmd1bGFyXHJcbiAgICAgICAgICAgICAgICAub25lKHJlc291cmNlLl9wYXRoXylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmUoe30pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5wbGFpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB2aXN1YWwgZmVlZGJhY2sgKG5vdGlmaWNhdGlvbnMgYW5kIGJ1dHRvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb25zKGRhdGEubm90aWZpY2F0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHJlc291cmNlIGZyb20gaWZjXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShwYXJlbnRbaWZjXSkpIHBhcmVudFtpZmNdLnNwbGljZShwYXJlbnRbaWZjXS5pbmRleE9mKHJlc291cmNlKSwgMSk7IC8vIG5vbi11bmkgPSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBwYXJlbnRbaWZjXSA9IG51bGw7IC8vIHVuaSA9IG9iamVjdFxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHByb21pc2UgdG8gbG9hZGluZyBsaXN0XHJcbiAgICAgICAgICAgICAgICBpZighQXJyYXkuaXNBcnJheShyZXNvdXJjZS5fbG9hZGluZ18pKSByZXNvdXJjZS5fbG9hZGluZ18gPSBbXTtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlLl9sb2FkaW5nXy5wdXNoKHByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNhdmUvcGF0Y2ggYSBjaGFuZ2VkIGF0dHJpYnV0ZVxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF0Y2hSZXNvdXJjZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNhdmVJdGVtIDogZnVuY3Rpb24ocmVzb3VyY2UsIGlmYywgcGF0Y2hSZXNvdXJjZSl7XHJcbiAgICAgICAgICAgIC8vIENvbnN0cnVjdCBwYXRjaChlcylcclxuICAgICAgICAgICAgaWYodHlwZW9mIHJlc291cmNlW2lmY10gPT09ICd1bmRlZmluZWQnIHx8IHJlc291cmNlW2lmY10gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc291cmNlW2lmY107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGF0Y2ggPSBSZXNvdXJjZVNlcnZpY2UuY3JlYXRlUGF0Y2goJ3JlcGxhY2UnLCByZXNvdXJjZSwgcGF0Y2hSZXNvdXJjZSwgaWZjLCB2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWdpc3RlciBwYXRjaFxyXG4gICAgICAgICAgICByZXR1cm4gUmVzb3VyY2VTZXJ2aWNlLmFkZFBhdGNoZXMocGF0Y2hSZXNvdXJjZSwgW3BhdGNoXSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGQgYW4gaXRlbSB0byBhbiBpbnRlcmZhY2UgbGlzdFxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VsZWN0ZWQgaXRlbSB0byBhZGQgdG8gdGhlIGxpc3RcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF0Y2hSZXNvdXJjZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFkZEl0ZW0gOiBmdW5jdGlvbihyZXNvdXJjZSwgaWZjLCBzZWxlY3RlZCwgcGF0Y2hSZXNvdXJjZSl7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBzZWxlY3RlZC52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1ZhbHVlIHVuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnVmFsdWUgdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihzZWxlY3RlZC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0VtcHR5IHZhbHVlIHNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdFbXB0eSB2YWx1ZSBzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoIUFycmF5LmlzQXJyYXkocmVzb3VyY2VbaWZjXSkpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0Vycm9yOiB0cnlpbmcgdG8gYWRkIGl0ZW0gdG8gbm9uLWFycmF5Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdFcnJvcjogdHJ5aW5nIHRvIGFkZCBpdGVtIHRvIG5vbi1hcnJheScpO1xyXG4gICAgICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGFwdCBpbiBqcyBtb2RlbFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VbaWZjXS5wdXNoKHNlbGVjdGVkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IHBhdGNoKGVzKVxyXG4gICAgICAgICAgICAgICAgcGF0Y2ggPSBSZXNvdXJjZVNlcnZpY2UuY3JlYXRlUGF0Y2goJ2FkZCcsIHJlc291cmNlLCBwYXRjaFJlc291cmNlLCBpZmMsIHNlbGVjdGVkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBSZXNvdXJjZVNlcnZpY2UuYWRkUGF0Y2hlcyhwYXRjaFJlc291cmNlLCBbcGF0Y2hdKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHNlbGVjdGVkIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlKHNlbGVjdGVkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGludGVyZmFjZSBsaXN0XHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHJlc291cmNlXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGlmY1xyXG4gICAgICAgICAqIEBwYXJhbSB7aW50fSBpbmRleFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXRjaFJlc291cmNlXHJcbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVtb3ZlSXRlbSA6IGZ1bmN0aW9uKHJlc291cmNlLCBpZmMsIGluZGV4LCBwYXRjaFJlc291cmNlKXtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHBhdGNoKGVzKVxyXG4gICAgICAgICAgICB2YWx1ZSA9IHJlc291cmNlW2lmY11baW5kZXhdO1xyXG4gICAgICAgICAgICBwYXRjaCA9IFJlc291cmNlU2VydmljZS5jcmVhdGVQYXRjaCgncmVtb3ZlJywgcmVzb3VyY2UsIHBhdGNoUmVzb3VyY2UsIGlmYywgdmFsdWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWRhcHQganMgbW9kZWxcclxuICAgICAgICAgICAgcmVzb3VyY2VbaWZjXS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFJlc291cmNlU2VydmljZS5hZGRQYXRjaGVzKHBhdGNoUmVzb3VyY2UsIFtwYXRjaF0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29uc3RydWN0IHBhdGNoIG9iamVjdCAod2l0aCBhdHRyaWJ1dGVzICdvcCcsICdwYXRoJyBhbmQgJ3ZhbHVlJylcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0aW9uIGNob29zZSBmcm9tICdhZGQnLCAncmVtb3ZlJyBvciAncmVwbGFjZSdcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2VcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF0Y2hSZXNvdXJjZVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZmNcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNyZWF0ZVBhdGNoIDogZnVuY3Rpb24ob3BlcmF0aW9uLCByZXNvdXJjZSwgcGF0Y2hSZXNvdXJjZSwgaWZjLCB2YWx1ZSl7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBwYXRjaFJlc291cmNlID09PSAndW5kZWZpbmVkJykgcGF0Y2hSZXNvdXJjZSA9IHJlc291cmNlO1xyXG4gICAgICAgICAgICBwYXRoTGVuZ3RoID0gcGF0Y2hSZXNvdXJjZS5fcGF0aF8ubGVuZ3RoO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcGF0aCA9IHJlc291cmNlLl9wYXRoXy5zdWJzdHJpbmcocGF0aExlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBpZmMgIT09ICd1bmRlZmluZWQnKSBwYXRoID0gcGF0aCArICcvJyArIGlmYztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB7IG9wIDogb3BlcmF0aW9uLCBwYXRoIDogcGF0aH07XHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHsgb3AgOiBvcGVyYXRpb24sIHBhdGggOiBwYXRoLCB2YWx1ZSA6IHZhbHVlfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZCBsaXN0IG9mIHBhdGNoZXMgZm9yIGdpdmVuIHJlc291cmNlIGFuZCBjYWxsIEFQSSAod2hlbiBhdXRvLXNhdmUgaXMgb24pXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHJlc291cmNlXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gcGF0Y2hlc1xyXG4gICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFkZFBhdGNoZXMgOiBmdW5jdGlvbihyZXNvdXJjZSwgcGF0Y2hlcyl7XHJcbiAgICAgICAgICAgIC8vIEFkZCBuZXcgcGF0Y2hlcyB0byByZXNvdXJjZVxyXG4gICAgICAgICAgICBpZighQXJyYXkuaXNBcnJheShyZXNvdXJjZS5fcGF0Y2hlc0NhY2hlXykpIHJlc291cmNlLl9wYXRjaGVzQ2FjaGVfID0gW107XHJcbiAgICAgICAgICAgIHJlc291cmNlLl9wYXRjaGVzQ2FjaGVfID0gcmVzb3VyY2UuX3BhdGNoZXNDYWNoZV8uY29uY2F0KHBhdGNoZXMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWRkIHJlc291cmNlIHRvIHVwZGF0ZWRSZXNvdXJjZXNcclxuICAgICAgICAgICAgaWYodXBkYXRlZFJlc291cmNlcy5pbmRleE9mKHJlc291cmNlKSA9PT0gLTEpIHVwZGF0ZWRSZXNvdXJjZXMucHVzaChyZXNvdXJjZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTYXZlIGlmIGF1dG9TYXZlIGlzIGVuYWJsZWRcclxuICAgICAgICAgICAgaWYoJGxvY2FsU3RvcmFnZS5zd2l0Y2hBdXRvU2F2ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlc291cmNlU2VydmljZS5zYXZlUmVzb3VyY2UocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHZpc3VhbCBmZWVkYmFja1xyXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VTZXJ2aWNlLnNldFJlc291cmNlU3RhdHVzKHJlc291cmNlLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuX3Nob3dCdXR0b25zXyA9IHsnc2F2ZScgOiB0cnVlLCAnY2FuY2VsJyA6IHRydWV9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlc29sdmUocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyBpZiB0aGVyZSBhcmUgdW5zYXZlZCBjaGFuZ2VzIChpLmUuIHBhdGNoZXMgdGhhdCBhcmUgbm90IHlldCBzZW50IHRvIHRoZSBBUEkpXHJcbiAgICAgICAgICogXHJcbiAgICAgICAgICogQHJldHVybnMge2Jvb2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2hlY2tSZXF1aXJlZCA6IGZ1bmN0aW9uKCl7IFxyXG4gICAgICAgICAgICB1cGRhdGVkUmVzb3VyY2VzLnJlZHVjZShmdW5jdGlvbihwcmV2LCBpdGVtLCBpbmRleCwgYXJyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2IHx8IGl0ZW0uX3BhdGNoZXNDYWNoZV8ubGVuZ3RoO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDbGVhciBsaXN0IG9mIHVwZGF0ZWQgcmVzb3VyY2VzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZW1wdHlVcGRhdGVkUmVzb3VyY2VzIDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdXBkYXRlZFJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5pdC9yZXNldCByZXNvdXJjZSBtZXRhIGRhdGFcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbml0UmVzb3VyY2VNZXRhRGF0YSA6IGZ1bmN0aW9uKHJlc291cmNlKXtcclxuICAgICAgICAgICAgcmVzb3VyY2UuX3Nob3dCdXR0b25zXyA9IHsnc2F2ZScgOiBmYWxzZSwgJ2NhbmNlbCcgOiBmYWxzZX07XHJcbiAgICAgICAgICAgIHJlc291cmNlLl9wYXRjaGVzQ2FjaGVfID0gW107XHJcbiAgICAgICAgICAgIFJlc291cmNlU2VydmljZS5zZXRSZXNvdXJjZVN0YXR1cyhyZXNvdXJjZSwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb2Nlc3MgcmVzcG9uc2U6IGkuZS4gc2V0IHJlc291cmNlIGJ1dHRvbnMgYW5kIHN0YXR1c1xyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZVxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSBmcm9tIEFQSVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlIDogZnVuY3Rpb24ocmVzb3VyY2UsIHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb25zKHJlc3BvbnNlLm5vdGlmaWNhdGlvbnMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYocmVzcG9uc2UuaW52YXJpYW50UnVsZXNIb2xkKXtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlLl9zaG93QnV0dG9uc18gPSB7J3NhdmUnIDogZmFsc2UsICdjYW5jZWwnIDogZmFsc2V9O1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuX3BhdGNoZXNDYWNoZV8gPSBbXTsgLy8gZW1wdHkgcGF0Y2hlcyBjYWNoZVxyXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VTZXJ2aWNlLnNldFJlc291cmNlU3RhdHVzKHJlc291cmNlLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBBZnRlciAzIHNlY29uZHMsIHJlc2V0IHN0YXR1cyB0byBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc291cmNlU2VydmljZS5zZXRSZXNvdXJjZVN0YXR1cyhyZXNvdXJjZSwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlLl9zaG93QnV0dG9uc18gPSB7J3NhdmUnIDogZmFsc2UsICdjYW5jZWwnIDogdHJ1ZX07XHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZVNlcnZpY2Uuc2V0UmVzb3VyY2VTdGF0dXMocmVzb3VyY2UsICdkYW5nZXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0IHJlc291cmNlIHN0YXR1cyBtZXRhIGRhdGFcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2VcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIGNob29zZSBmcm9tICd3YXJuaW5nJywgJ2RhbmdlcicsICdzdWNjZXNzJyBvciAnZGVmYXVsdCdcclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldFJlc291cmNlU3RhdHVzIDogZnVuY3Rpb24ocmVzb3VyY2UsIHN0YXR1cyl7XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGFsbCBzdGF0dXMgcHJvcGVydGllc1xyXG4gICAgICAgICAgICByZXNvdXJjZS5fc3RhdHVzXyA9IHsgJ3dhcm5pbmcnIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGFuZ2VyJyAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZWZhdWx0JyA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnIDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBTZXQgc3RhdHVzIHByb3BlcnR5XHJcbiAgICAgICAgICAgIHJlc291cmNlLl9zdGF0dXNfW3N0YXR1c10gPSB0cnVlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyBpZiByZXNvdXJjZSBoYXMgcGVuZGluZyBwcm9taXNlc1xyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBlbmRpbmdQcm9taXNlcyA6IGZ1bmN0aW9uKHJlc291cmNlKXtcclxuICAgICAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkocmVzb3VyY2UuX2xvYWRpbmdfKSkgcmV0dXJuIGZhbHNlOyAvLyBlbXB0eSBhcnJheSBjb250YWlucyBubyBwZW5kaW5nIHByb21pc2VzXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuX2xvYWRpbmdfLnNvbWUoZnVuY3Rpb24odmFsKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwuJCRzdGF0ZS5zdGF0dXMgPT09IDA7IC8vIHByb21pc2Ugc3RhdHVzOiAwIC0+IHBlbmRpbmcsIDEgLT4gcmVzb2x2ZWQsIDIgLT4gcmVqZWN0ZWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmV0dXJuIFJlc291cmNlU2VydmljZTtcclxuICAgIFxyXG59KTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcpO1xyXG5hcHAucmVxdWlyZXNbYXBwLnJlcXVpcmVzLmxlbmd0aF0gPSAnYW5ndWxhckZpbGVVcGxvYWQnOyAvLyBhZGQgYW5ndWxhckZpbGVVcGxvYWQgdG8gZGVwZW5kZW5jeSBsaXN0XHJcbmFwcC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICRyb3V0ZVByb3ZpZGVyXHJcbiAgICAgICAgLndoZW4oJy9leHQvaW1wb3J0ZXInLCB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnUG9wdWxhdGlvbkltcG9ydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA6ICdhcHAvc3JjL2ltcG9ydGVyL2ltcG9ydGVyLmh0bWwnLFxyXG4gICAgICAgICAgICBpbnRlcmZhY2VMYWJlbCA6ICdQb3B1bGF0aW9uIGltcG9ydGVyJ1xyXG4gICAgICAgIH0pO1xyXG59KS5zZXJ2aWNlKCdJbXBvcnRTZXJ2aWNlJywgZnVuY3Rpb24oRmlsZVVwbG9hZGVyLCBOb3RpZmljYXRpb25TZXJ2aWNlKXtcclxuICAgIGxldCB1cGxvYWRlciA9IG5ldyBGaWxlVXBsb2FkZXIoe1xyXG4gICAgICAgIHVybDogJ2FwaS92MS9hZG1pbi9pbXBvcnQnXHJcbiAgICB9KTtcclxuXHJcbiAgICB1cGxvYWRlci5vblN1Y2Nlc3NJdGVtID0gZnVuY3Rpb24oZmlsZUl0ZW0sIHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMpIHtcclxuICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLnVwZGF0ZU5vdGlmaWNhdGlvbnMocmVzcG9uc2Uubm90aWZpY2F0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB1cGxvYWRlci5vbkVycm9ySXRlbSA9IGZ1bmN0aW9uKGl0ZW0sIHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMpe1xyXG4gICAgICAgIGxldCBtZXNzYWdlO1xyXG4gICAgICAgIGxldCBkZXRhaWxzO1xyXG4gICAgICAgIGlmKHR5cGVvZiByZXNwb25zZSA9PT0gJ29iamVjdCcpe1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gcmVzcG9uc2UubXNnIHx8ICdFcnJvciB3aGlsZSBpbXBvcnRpbmcnO1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmFkZEVycm9yKG1lc3NhZ2UsIHN0YXR1cywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5ub3RpZmljYXRpb25zICE9PSB1bmRlZmluZWQpIE5vdGlmaWNhdGlvblNlcnZpY2UudXBkYXRlTm90aWZpY2F0aW9ucyhyZXNwb25zZS5ub3RpZmljYXRpb25zKTsgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBzdGF0dXMgKyAnIEVycm9yIHdoaWxlIGltcG9ydGluZyc7XHJcbiAgICAgICAgICAgIGRldGFpbHMgPSByZXNwb25zZTsgLy8gaHRtbCBjb250ZW50IGlzIGV4Y2VwdGVkXHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UuYWRkRXJyb3IobWVzc2FnZSwgc3RhdHVzLCB0cnVlLCBkZXRhaWxzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4ge3VwbG9hZGVyIDogdXBsb2FkZXJ9O1xyXG59KS5jb250cm9sbGVyKCdQb3B1bGF0aW9uSW1wb3J0Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsIEltcG9ydFNlcnZpY2UpIHtcclxuICAgICRzY29wZS51cGxvYWRlciA9IEltcG9ydFNlcnZpY2UudXBsb2FkZXI7XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBbXBlcnNhbmRBcHAnKS5jb250cm9sbGVyKCdOYXZpZ2F0aW9uQmFyQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZSwgUmVzdGFuZ3VsYXIsICRsb2NhbFN0b3JhZ2UsICRzZXNzaW9uU3RvcmFnZSwgJHRpbWVvdXQsICRsb2NhdGlvbiwgTm90aWZpY2F0aW9uU2VydmljZSwgUm9sZVNlcnZpY2UsIE5hdmlnYXRpb25CYXJTZXJ2aWNlKSB7XHJcbiAgICBcclxuICAgICRzY29wZS4kc3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XHJcbiAgICAkc2NvcGUuJHNlc3Npb25TdG9yYWdlID0gJHNlc3Npb25TdG9yYWdlO1xyXG4gICAgJHNjb3BlLmRlZmF1bHRTZXR0aW5ncyA9IE5hdmlnYXRpb25CYXJTZXJ2aWNlLmRlZmF1bHRTZXR0aW5ncztcclxuICAgICRzY29wZS5sb2FkaW5nTmF2QmFyID0gW107XHJcbiAgICAkc2NvcGUubmF2YmFyID0gTmF2aWdhdGlvbkJhclNlcnZpY2UubmF2YmFyO1xyXG4gICAgXHJcbiAgICAkc2NvcGUucmVsb2FkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkc2NvcGUubG9hZGluZ05hdkJhciA9IFtdO1xyXG4gICAgICAgICRzY29wZS5sb2FkaW5nTmF2QmFyLnB1c2goTmF2aWdhdGlvbkJhclNlcnZpY2UucmVmcmVzaE5hdkJhcigpKTtcclxuICAgICAgICAkcm91dGUucmVsb2FkKCk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jaGVja0FsbFJ1bGVzID0gTm90aWZpY2F0aW9uU2VydmljZS5jaGVja0FsbFJ1bGVzO1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVOZXdSZXNvdXJjZSA9IGZ1bmN0aW9uKHJlc291cmNlVHlwZSwgb3BlbldpdGhJZmMpe1xyXG4gICAgICAgIFJlc3Rhbmd1bGFyLm9uZSgncmVzb3VyY2UnKS5hbGwocmVzb3VyY2VUeXBlKVxyXG4gICAgICAgIC5wb3N0KHt9LCB7fSlcclxuICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAvLyBKdW1wcyB0byBpbnRlcmZhY2UgYW5kIHJlcXVlc3RzIG5ld2x5IGNyZWF0ZWQgcmVzb3VyY2VcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi51cmwob3BlbldpdGhJZmMgKyAnLycgKyBkYXRhLl9pZF8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgICRzY29wZS5yZXNldFNldHRpbmdzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBhbGwgb2ZmXHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS4kc3RvcmFnZS5ub3RpZmljYXRpb25QcmVmcywgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqKXtcclxuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgJHNjb3BlLiRzdG9yYWdlLnN3aXRjaEF1dG9TYXZlID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRvIGRlZmF1bHQgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUucmVzZXROb3RpZmljYXRpb25TZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAkc2NvcGUucmVzZXRTd2l0Y2hBdXRvU2F2ZSgpO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAkc2NvcGUucmVzZXROb3RpZmljYXRpb25TZXR0aW5ncyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHNjb3BlLiRzdG9yYWdlLm5vdGlmaWNhdGlvblByZWZzID0gYW5ndWxhci5leHRlbmQoJHNjb3BlLiRzdG9yYWdlLm5vdGlmaWNhdGlvblByZWZzLCAkc2NvcGUuZGVmYXVsdFNldHRpbmdzLm5vdGlmaWNhdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgJHNjb3BlLnJlc2V0U3dpdGNoQXV0b1NhdmUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICRzY29wZS4kc3RvcmFnZS5zd2l0Y2hBdXRvU2F2ZSA9ICRzY29wZS5kZWZhdWx0U2V0dGluZ3Muc3dpdGNoQXV0b1NhdmU7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAkc2NvcGUubG9hZGluZ05hdkJhci5wdXNoKE5hdmlnYXRpb25CYXJTZXJ2aWNlLnJlZnJlc2hOYXZCYXIoKSk7XHJcbn0pLmRpcmVjdGl2ZSgnbXlOYXZiYXJSZXNpemUnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHRpbWVvdXQsIE5hdmlnYXRpb25CYXJTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIHcgPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHJlc2l6ZU5hdmJhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgLy8gbW92aW5nIGlmYyBpdGVtcyBmcm9tIGRyb3Bkb3duLW1lbnUgdG8gbmF2YmFyIGl0c2VsZlxyXG4gICAgICAgICAgICAgICAgd2hpbGUoJCgnI25hdmJhci1pbnRlcmZhY2VzJykud2lkdGgoKSA8ICgkKCcjbmF2YmFyLXdyYXBwZXInKS53aWR0aCgpIC0gJCgnI25hdmJhci1vcHRpb25zJykud2lkdGgoKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI25hdmJhci1pbnRlcmZhY2VzLWRyb3Bkb3duLW1lbnUnKS5jaGlsZHJlbigpLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjbmF2YmFyLWludGVyZmFjZXMtZHJvcGRvd24tbWVudVwiKS5jaGlsZHJlbigpLmZpcnN0KCkuYXBwZW5kVG8oXCIjbmF2YmFyLWludGVyZmFjZXNcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIG1vdmluZyBpZmMgaXRlbXMgZnJvbSBuYXZiYXIgdG8gZHJvcGRvd24tbWVudVxyXG4gICAgICAgICAgICAgICAgd2hpbGUoJCgnI25hdmJhci1pbnRlcmZhY2VzJykud2lkdGgoKSA+ICgkKCcjbmF2YmFyLXdyYXBwZXInKS53aWR0aCgpIC0gJCgnI25hdmJhci1vcHRpb25zJykud2lkdGgoKSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjbmF2YmFyLWludGVyZmFjZXNcIikuY2hpbGRyZW4oKS5sYXN0KCkucHJlcGVuZFRvKFwiI25hdmJhci1pbnRlcmZhY2VzLWRyb3Bkb3duLW1lbnVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvdy9oaWRlIGRyb3Bkb3duIG1lbnUgZm9yIG1vcmUgaW50ZXJmYWNlcyAobXVzdCBiZSBpbnNpZGUgbG9vcCwgYmVjYXVzZSBpdCBhZmZlY3RzIHRoZSB3aWR0aCBvZiB0aGUgbmF2YmFyXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI25hdmJhci1pbnRlcmZhY2VzLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicsICQoJyNuYXZiYXItaW50ZXJmYWNlcy1kcm9wZG93bi1tZW51JykuY2hpbGRyZW4oKS5sZW5ndGggPD0gMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNob3cvaGlkZSBkcm9wZG93biBtZW51IHdoZW4gcG9zc2libGVcclxuICAgICAgICAgICAgICAgICQoJyNuYXZiYXItaW50ZXJmYWNlcy1kcm9wZG93bicpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCAkKCcjbmF2YmFyLWludGVyZmFjZXMtZHJvcGRvd24tbWVudScpLmNoaWxkcmVuKCkubGVuZ3RoIDw9IDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHdhdGNoIG5hdmJhclxyXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnTmF2aWdhdGlvbkJhclNlcnZpY2UubmF2YmFyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlc2l6ZU5hdmJhcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHdoZW4gd2luZG93IHNpemUgZ2V0cyBjaGFuZ2VkXHJcbiAgICAgICAgdy5iaW5kKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7ICAgICAgICBcclxuICAgICAgICAgICAgcmVzaXplTmF2YmFyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gd2hlbiBwYWdlIGxvYWRzXHJcbiAgICAgICAgcmVzaXplTmF2YmFyKCk7XHJcbiAgICB9O1xyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnQW1wZXJzYW5kQXBwJykuc2VydmljZSgnTmF2aWdhdGlvbkJhclNlcnZpY2UnLCBmdW5jdGlvbihSZXN0YW5ndWxhciwgJGxvY2FsU3RvcmFnZSwgJHNlc3Npb25TdG9yYWdlLCBOb3RpZmljYXRpb25TZXJ2aWNlKXtcclxuICAgIGxldCBuYXZiYXIgPSB7fTtcclxuICAgIGxldCBkZWZhdWx0U2V0dGluZ3MgPSB7fTtcclxuXHJcbiAgICBsZXQgc2VydmljZSA9IHtcclxuICAgICAgICBuYXZiYXIgOiBuYXZiYXIsXHJcbiAgICAgICAgZGVmYXVsdFNldHRpbmdzIDogZGVmYXVsdFNldHRpbmdzLFxyXG5cclxuICAgICAgICByZWZyZXNoTmF2QmFyIDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyXHJcbiAgICAgICAgICAgIC5vbmUoJ2FwcC9uYXZiYXInKVxyXG4gICAgICAgICAgICAuZ2V0KClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5wbGFpbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5hdmJhciwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAkc2Vzc2lvblN0b3JhZ2Uuc2Vzc2lvbiA9IGRhdGEuc2Vzc2lvbjtcclxuICAgICAgICAgICAgICAgICRzZXNzaW9uU3RvcmFnZS5zZXNzaW9uUm9sZXMgPSBkYXRhLnNlc3Npb25Sb2xlcztcclxuICAgICAgICAgICAgICAgICRzZXNzaW9uU3RvcmFnZS5zZXNzaW9uVmFycyA9IGRhdGEuc2Vzc2lvblZhcnM7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChkZWZhdWx0U2V0dGluZ3MsIGRhdGEuZGVmYXVsdFNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBzZXR0aW5ncyBmb3Igbm90aWZpY2F0aW9uUHJlZnNcclxuICAgICAgICAgICAgICAgIGlmKCRsb2NhbFN0b3JhZ2Uubm90aWZpY2F0aW9uUHJlZnMgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0Tm90aWZpY2F0aW9uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgc2V0dGluZyBmb3Igc3dpdGNoQXV0b1NhdmVcclxuICAgICAgICAgICAgICAgIGlmKCRsb2NhbFN0b3JhZ2Uuc3dpdGNoQXV0b1NhdmUgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0U3dpdGNoQXV0b1NhdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIG5vdGlmaWNhdGlvbnNcclxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UudXBkYXRlTm90aWZpY2F0aW9ucyhkYXRhLm5vdGlmaWNhdGlvbnMpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAvLyBvbiBlcnJvclxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gc2VydmljZTtcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcpLnNlcnZpY2UoJ1JvbGVTZXJ2aWNlJywgZnVuY3Rpb24oJHNlc3Npb25TdG9yYWdlLCBSZXN0YW5ndWxhcil7XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICAgKiBBdmFpbGFibGUgcm9sZXMgYXJlIHJlZ2lzdGVyZWQgaW4gJHNlc3Npb25TdG9yYWdlLnNlc3Npb25Sb2xlc1xyXG4gICAgICogQSByb2xlIGhhcyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6IGlkLCBsYWJlbCwgYWN0aXZlXHJcbiAgICAgKi9cclxuICAgIFxyXG4gICAgUm9sZVNlcnZpY2UgPSB7XHJcbiAgICAgICAgc2VsZWN0Um9sZSA6IGZ1bmN0aW9uKHJvbGVJZCl7XHJcbiAgICAgICAgICAgIFJvbGVTZXJ2aWNlLnRvZ2dsZVJvbGUocm9sZUlkLCB0cnVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIHNlbGVjdFJvbGVCeUxhYmVsIDogZnVuY3Rpb24gKHJvbGVMYWJlbCl7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2Vzc2lvblN0b3JhZ2Uuc2Vzc2lvblJvbGVzLCBmdW5jdGlvbihyb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBpZihyb2xlLmxhYmVsID09IHJvbGVMYWJlbCkgcmV0dXJuIFJvbGVTZXJ2aWNlLnNlbGVjdFJvbGUocm9sZS5pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgdG9nZ2xlUm9sZSA6IGZ1bmN0aW9uKHJvbGVJZCwgc2V0KXtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzZXNzaW9uU3RvcmFnZS5zZXNzaW9uUm9sZXMsIGZ1bmN0aW9uKHJvbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb2xlLmlkID09IHJvbGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNldCA9PT0gdW5kZWZpbmVkKSByb2xlLmFjdGl2ZSA9ICFyb2xlLmFjdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHJvbGUuYWN0aXZlID0gc2V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGdldEFjdGl2ZVJvbGVJZHMgOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgcm9sZUlkcyA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNlc3Npb25TdG9yYWdlLnNlc3Npb25Sb2xlcywgZnVuY3Rpb24ocm9sZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvbGUuYWN0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZUlkcy5wdXNoKHJvbGUuaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJvbGVJZHM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBkZWFjdGl2YXRlQWxsUm9sZXMgOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNlc3Npb25TdG9yYWdlLnNlc3Npb25Sb2xlcywgZnVuY3Rpb24ocm9sZSkge1xyXG4gICAgICAgICAgICAgICAgcm9sZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBzZXRBY3RpdmVSb2xlcyA6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBSZXN0YW5ndWxhci5hbGwoJ2FwcC9yb2xlcycpLnBhdGNoKCRzZXNzaW9uU3RvcmFnZS5zZXNzaW9uUm9sZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHJldHVybiBSb2xlU2VydmljZTtcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcpLmNvbnRyb2xsZXIoJ1JvbGVNZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsIFJvbGVTZXJ2aWNlLCBOYXZpZ2F0aW9uQmFyU2VydmljZSkge1xyXG4gICAgJHNjb3BlLnRvZ2dsZVJvbGUgPSBmdW5jdGlvbihyb2xlSWQsIHNldCl7XHJcbiAgICAgICAgUm9sZVNlcnZpY2UudG9nZ2xlUm9sZShyb2xlSWQsIHNldCk7XHJcbiAgICAgICAgTmF2aWdhdGlvbkJhclNlcnZpY2UucHJvbWlzZXMucHVzaChcclxuICAgICAgICAgICAgUm9sZVNlcnZpY2Uuc2V0QWN0aXZlUm9sZXMoKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIE5hdmlnYXRpb25CYXJTZXJ2aWNlLnJlZnJlc2hOYXZCYXIoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfTtcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FtcGVyc2FuZEFwcCcpLnNlcnZpY2UoJ05vdGlmaWNhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkbG9jYWxTdG9yYWdlLCAkc2Vzc2lvblN0b3JhZ2UsICR0aW1lb3V0LCBSZXN0YW5ndWxhcil7XHJcbiAgICAvLyBJbml0aWFsaXplIG5vdGlmaWNhdGlvbnMgY29udGFpbmVyXHJcbiAgICBsZXQgbm90aWZpY2F0aW9ucyA9IHtcclxuICAgICAgICAnc2lnbmFscycgOiBbXSxcclxuICAgICAgICAnaW52YXJpYW50cycgOiBbXSxcclxuICAgICAgICAnaW5mb3MnIDogW10sXHJcbiAgICAgICAgJ3N1Y2Nlc3NlcycgOiBbXSxcclxuICAgICAgICAnd2FybmluZ3MnIDogW10sXHJcbiAgICAgICAgJ2Vycm9ycycgOiBbXVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgbGV0IE5vdGlmaWNhdGlvblNlcnZpY2UgPSB7XHJcbiAgICAgICAgbm90aWZpY2F0aW9ucyA6IG5vdGlmaWNhdGlvbnMsXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gZ2V0IG5vdGlmaWNhdGlvbnMgYWdhaW5cclxuICAgICAgICBnZXROb3RpZmljYXRpb25zIDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyXHJcbiAgICAgICAgICAgIC5vbmUoJ2FwcC9ub3RpZmljYXRpb25zJylcclxuICAgICAgICAgICAgLmdldCgpXHJcbiAgICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEucGxhaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLnVwZGF0ZU5vdGlmaWNhdGlvbnMoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmFkZEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBnZXR0aW5nIG5vdGlmaWNhdGlvbnMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjaGVja0FsbFJ1bGVzIDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIFJlc3Rhbmd1bGFyXHJcbiAgICAgICAgICAgIC5vbmUoJ2FkbWluL3J1bGVlbmdpbmUvZXZhbHVhdGUvYWxsJylcclxuICAgICAgICAgICAgLmdldCgpXHJcbiAgICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEucGxhaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmFkZFN1Y2Nlc3MoJ0V2YWx1YXRlZCBhbGwgcnVsZXMuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb25zKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UuYWRkRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGV2YWx1YXRpbmcgYWxsIHJ1bGVzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICAvLyBGdW5jdGlvbiB0byB1cGRhdGUgbm90aWZpY2F0aW9ucyBhZnRlciBhcGkgcmVzcG9uc2VcclxuICAgICAgICB1cGRhdGVOb3RpZmljYXRpb25zIDogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gT3ZlcndyaXRlXHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMuc2lnbmFscyA9IGRhdGEuc2lnbmFscztcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9ucy5pbnZhcmlhbnRzID0gZGF0YS5pbnZhcmlhbnRzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTWVyZ2VcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9ucy5pbmZvcyA9IG5vdGlmaWNhdGlvbnMuaW5mb3MuY29uY2F0KGRhdGEuaW5mb3MpO1xyXG4gICAgICAgICAgICBub3RpZmljYXRpb25zLnN1Y2Nlc3NlcyA9IG5vdGlmaWNhdGlvbnMuc3VjY2Vzc2VzLmNvbmNhdChkYXRhLnN1Y2Nlc3Nlcyk7XHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMud2FybmluZ3MgPSBub3RpZmljYXRpb25zLndhcm5pbmdzLmNvbmNhdChkYXRhLndhcm5pbmdzKTtcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9ucy5lcnJvcnMgPSBub3RpZmljYXRpb25zLmVycm9ycy5jb25jYXQoZGF0YS5lcnJvcnMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoJGxvY2FsU3RvcmFnZS5ub3RpZmljYXRpb25QcmVmcy5zd2l0Y2hBdXRvSGlkZVN1Y2Nlc3Nlcyl7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zLnN1Y2Nlc3NlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGFkZFN1Y2Nlc3MgOiBmdW5jdGlvbihtZXNzYWdlKXtcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9ucy5zdWNjZXNzZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnbWVzc2FnZScgOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgJ2NvdW50JyA6IDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRpbWVvdXQgZnVuY3Rpb24gaGVyZSBmb3IgYXV0byBoaWRlIHN1Y2Nlc3Nlc1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgYWRkRXJyb3IgOiBmdW5jdGlvbihtZXNzYWdlLCBjb2RlLCBwZXJzaXN0ZW50LCBkZXRhaWxzKXtcclxuICAgICAgICAgICAgY29kZSA9IHR5cGVvZiBjb2RlICE9PSB1bmRlZmluZWQgPyBjb2RlIDogbnVsbDtcclxuICAgICAgICAgICAgcGVyc2lzdGVudCA9IHR5cGVvZiBwZXJzaXN0ZW50ICE9PSB1bmRlZmluZWQgPyBwZXJzaXN0ZW50IDogZmFsc2U7XHJcbiAgICAgICAgICAgIGRldGFpbHMgPSB0eXBlb2YgZGV0YWlscyAhPT0gdW5kZWZpbmVkID8gZGV0YWlscyA6IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGFscmVhZHlFeGlzdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGFyciA9IG5vdGlmaWNhdGlvbnMuZXJyb3JzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltpXS5tZXNzYWdlID09IG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJbaV0uY291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBhcnJbaV0uY29kZSA9IGNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyW2ldLnBlcnNpc3RlbnQgPSBwZXJzaXN0ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGFycltpXS5kZXRhaWxzID0gZGV0YWlscztcclxuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5RXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighYWxyZWFkeUV4aXN0cykgbm90aWZpY2F0aW9ucy5lcnJvcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnbWVzc2FnZScgOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgJ2NvZGUnIDogY29kZSxcclxuICAgICAgICAgICAgICAgICdjb3VudCcgOiAxLFxyXG4gICAgICAgICAgICAgICAgJ3BlcnNpc3RlbnQnIDogcGVyc2lzdGVudCxcclxuICAgICAgICAgICAgICAgICdkZXRhaWxzJyA6IGRldGFpbHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBhZGRXYXJuaW5nIDogZnVuY3Rpb24obWVzc2FnZSl7XHJcbiAgICAgICAgICAgIGxldCBhbHJlYWR5RXhpc3RzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBhcnIgPSBub3RpZmljYXRpb25zLndhcm5pbmdzO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltpXS5tZXNzYWdlID09IG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJbaV0uY291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5RXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighYWxyZWFkeUV4aXN0cykgbm90aWZpY2F0aW9ucy53YXJuaW5ncy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICdtZXNzYWdlJyA6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAnY291bnQnIDogMVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGFkZEluZm8gOiBmdW5jdGlvbihtZXNzYWdlKXtcclxuICAgICAgICAgICAgbGV0IGFscmVhZHlFeGlzdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGFyciA9IG5vdGlmaWNhdGlvbnMuaW5mb3M7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyW2ldLm1lc3NhZ2UgPT0gbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycltpXS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGFscmVhZHlFeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCFhbHJlYWR5RXhpc3RzKSBub3RpZmljYXRpb25zLmluZm9zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgJ21lc3NhZ2UnIDogbWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICdjb3VudCcgOiAxXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIHJldHVybiBOb3RpZmljYXRpb25TZXJ2aWNlO1xyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnQW1wZXJzYW5kQXBwJykuY29udHJvbGxlcignTm90aWZpY2F0aW9uQ2VudGVyQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRyb3V0ZSwgUmVzdGFuZ3VsYXIsICRsb2NhbFN0b3JhZ2UsIE5vdGlmaWNhdGlvblNlcnZpY2UpIHtcclxuICAgIFxyXG4gICAgJHNjb3BlLmxvY2FsU3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XHJcbiAgICAkc2NvcGUubm90aWZpY2F0aW9ucyA9IE5vdGlmaWNhdGlvblNlcnZpY2Uubm90aWZpY2F0aW9ucztcclxuICAgIFxyXG4gICAgLy8gSGlkZSBzdWNjZXNzLSwgZXJyb3ItLCB3YXJuaW5ncy0sIGluZm8tIGFuZCBpbnZhcmlhbnQgdmlvbGF0aW9uIG1lc3NhZ2VzIChub3Qgc2lnbmFscykgdXBvbiByb3V0ZSBjaGFuZ2VcclxuICAgICRzY29wZS4kb24oXCIkcm91dGVDaGFuZ2VTdWNjZXNzXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHNjb3BlLm5vdGlmaWNhdGlvbnMuc3VjY2Vzc2VzID0gW107XHJcbiAgICAgICAgJHNjb3BlLm5vdGlmaWNhdGlvbnMuZXJyb3JzID0gJHNjb3BlLm5vdGlmaWNhdGlvbnMuZXJyb3JzLmZpbHRlcihmdW5jdGlvbiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICBpZihlcnJvci5wZXJzaXN0ZW50KXtcclxuICAgICAgICAgICAgICAgIGVycm9yLnBlcnNpc3RlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzY29wZS5ub3RpZmljYXRpb25zLndhcm5pbmdzID0gW107XHJcbiAgICAgICAgJHNjb3BlLm5vdGlmaWNhdGlvbnMuaW5mb3MgPSBbXTtcclxuICAgICAgICAkc2NvcGUubm90aWZpY2F0aW9ucy5pbnZhcmlhbnRzID0gW107XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2xvc2Ugbm90aWZpY2F0aW9uc1xyXG4gICAgJHNjb3BlLmNsb3NlQWxlcnQgPSBmdW5jdGlvbihhbGVydHMsIGluZGV4KSB7XHJcbiAgICAgICAgYWxlcnRzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbn0pO1xyXG4iXX0=
